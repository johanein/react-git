(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{613:function(e,t,a){"use strict";a.r(t);var n=a(21),o=a(0),r=a.n(o),i=a(86),l=a(561),c=a(14),s=a(554),h=a(555),u=a(557),d=a(553),y=a(558),p=(a(10),a(556)),m=a.n(p),b=a(567),v=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(h.a)(t,[{key:"renderGraphic",value:function(){switch(this.props.icon){case"image":return r.a.createElement("g",null,r.a.createElement("path",{d:"M21 19v-14c0-1.1-.9-2-2-2h-14c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zm-12.5-5.5l2.5 3.01 3.5-4.51 4.5 6h-14l3.5-4.5z"}));case"my-icon":return r.a.createElement("g",null,r.a.createElement("path",{d:"M7.41 7.84l4.59 4.58 4.59-4.58 1.41 1.41-6 6-6-6z"}));case"another-icon":return r.a.createElement("g",null,r.a.createElement("path",{d:"M7.41 15.41l4.59-4.58 4.59 4.58 1.41-1.41-6-6-6 6z"}));case"format-bold":return r.a.createElement("g",null,r.a.createElement("path",{d:"M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4h-6.25v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42zm-5.6-4.29h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3v-3zm3.5 9h-3.5v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5z"}));case"format-italic":return r.a.createElement("g",null,r.a.createElement("path",{d:"M10 4v3h2.21l-3.42 8h-2.79v3h8v-3h-2.21l3.42-8h2.79v-3z"}));case"format-underline":return r.a.createElement("g",null,r.a.createElement("path",{d:"M12 17c3.31 0 6-2.69 6-6v-8h-2.5v8c0 1.93-1.57 3.5-3.5 3.5s-3.5-1.57-3.5-3.5v-8h-2.5v8c0 3.31 2.69 6 6 6zm-7 2v2h14v-2h-14z"}));case"format-align-left":return r.a.createElement("g",null,r.a.createElement("path",{d:"M15 15h-12v2h12v-2zm0-8h-12v2h12v-2zm-12 6h18v-2h-18v2zm0 8h18v-2h-18v2zm0-18v2h18v-2h-18z"}));case"format-align-center":return r.a.createElement("g",null,r.a.createElement("path",{d:"M7 15v2h10v-2h-10zm-4 6h18v-2h-18v2zm0-8h18v-2h-18v2zm4-6v2h10v-2h-10zm-4-4v2h18v-2h-18z"}));case"format-align-right":return r.a.createElement("g",null,r.a.createElement("path",{d:"M3 21h18v-2h-18v2zm6-4h12v-2h-12v2zm-6-4h18v-2h-18v2zm6-4h12v-2h-12v2zm-6-6v2h18v-2h-18z"}));case"add-box":return r.a.createElement("g",null,r.a.createElement("path",{d:"M19 3h-14c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-14c0-1.1-.9-2-2-2zm-2 10h-4v4h-2v-4h-4v-2h4v-4h2v4h4v2z"}));case"add":return r.a.createElement("g",null,r.a.createElement("path",{d:"M19 13h-6v6h-2v-6h-6v-2h6v-6h2v6h6v2z"}));case"text-format":case"text":return r.a.createElement("g",null,r.a.createElement("path",{d:"M5 17v2h14v-2h-14zm4.5-4.2h5l.9 2.2h2.1l-4.75-11h-1.5l-4.75 11h2.1l.9-2.2zm2.5-6.82l1.87 5.02h-3.74l1.87-5.02z"}));case"rectangle":return r.a.createElement("rect",{width:14,height:14,x:4,y:5,rx:3,ry:3});case"circle":return r.a.createElement("circle",{r:8,cx:11,cy:12});case"polygon":return r.a.createElement("g",{transform:"scale(0.034) translate(100 25)"},r.a.createElement("path",{d:"M477.043,219.205L378.575,48.677c-7.974-13.802-22.683-22.292-38.607-22.292H143.041c-15.923, 0-30.628,8.49-38.608,22.292 L5.971,219.205c-7.961,13.801-7.961,30.785,0,44.588l98.462, 170.543c7.98,13.802,22.685,22.293,38.608,22.293h196.926 c15.925,0,30.634-8.491, 38.607-22.293l98.469-170.543C485.003,249.99,485.003,233.006,477.043,219.205z"}));case"rotate":return r.a.createElement("g",null,r.a.createElement("path",{d:"M18.4 10.6c-1.85-1.61-4.25-2.6-6.9-2.6-4.65 0-8.58 3.03-9.96 7.22l2.36.78c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88l-3.62 3.62h9v-9l-3.6 3.6z"}));case"send-to-back":return r.a.createElement("g",null,r.a.createElement("rect",{x:7,y:7,width:13,height:13,fill:"#ababab",strokeWidth:1,stroke:"black"}),r.a.createElement("rect",{x:1,y:1,width:13,height:13,fill:"white",stroke:"black",strokeWidth:1}));case"bring-to-front":return r.a.createElement("g",null,r.a.createElement("rect",{x:7,y:7,width:13,height:13,fill:"white",strokeWidth:1,stroke:"black"}),r.a.createElement("rect",{x:1,y:1,width:13,height:13,fill:"#ababab",stroke:"black",strokeWidth:1}))}}},{key:"render",value:function(){var e={fill:this.props.active?"black":"#b5b5b5",verticalAlign:"middle",width:this.props.size,height:this.props.size};return r.a.createElement("svg",{viewBox:"0 0 24 24",onClick:this.props.onClick,preserveAspectRatio:"xMidYMid meet",fit:!0,style:Object(c.a)({},e,this.props.style)},this.renderGraphic())}}]),t}(o.Component);v.defaultProps={size:16};var g=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).openMenu=function(){a.setState({menuOpened:!0})},a.closeMenu=function(){a.setState({menuOpened:!1})},a.hoverTool=function(e){a.setState({hoveredTool:e})},a.unhoverTool=function(e){a.state.hoveredTool===e&&a.setState({hoveredTool:null})},a.state={menuOpened:!1,hoveredTool:null},a}return Object(y.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.currentTool,n=t.tools,o=this.state,i=o.menuOpened,l=o.hoveredTool,s=Object.keys(n);return r.a.createElement("div",{style:Object(c.a)({},f.insertMenu,i?f.insertMenuHover:{}),onMouseOver:this.openMenu,onMouseOut:this.closeMenu},r.a.createElement("div",{style:f.mainIcon},a?n[a].meta.icon:r.a.createElement(v,{icon:"add",size:30})),r.a.createElement("ul",{style:f.toolBox},s.map(function(t,o){return r.a.createElement("li",{style:Object(c.a)({},f.toolBoxItem,a===t?f.currentToolboxItem:{},l===t?f.currentToolboxItem:{}),onMouseOver:function(){return e.hoverTool(t)},onMouseOut:function(){return e.unhoverTool(t)},onMouseDown:e.props.onSelect.bind(e,t),key:o},n[t].meta.icon)})))}}]),t}(o.Component),f={insertMenu:{height:40,width:40,overflow:"hidden"},insertMenuHover:{background:"#eeeff5",height:"auto"},toolBox:{margin:0,padding:0},toolBoxItem:{listStyle:"none",padding:"5px 5px"},currentToolboxItem:{background:"#ebebeb"},mainIcon:{padding:"10px 5px",borderBottom:"1px solid #e0e0e0"}},x=g,j=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(h.a)(t,[{key:"getObjectComponent",value:function(e){return this.props.objectTypes[e]}},{key:"renderObject",value:function(e,t){var a=this.props,n=a.objectRefs,o=a.onMouseOver,i=this.getObjectComponent(e.type);return r.a.createElement(i,{onRender:function(e){return n[t]=e},onMouseOver:o.bind(this,t),object:e,key:t,index:t})}},{key:"render",value:function(){var e=this.props,t=e.background,a=e.objects,n=e.svgStyle,o=e.canvas,i=e.onMouseDown,l=e.onRender,s=o.width,h=o.height,u=o.canvasOffsetX,d=o.canvasOffsetY,y=Object(c.a)({},O.canvas,t?{backgroundColor:t}:O.grid,Object(c.a)({},n,{marginTop:d,marginLeft:u}));return r.a.createElement("svg",{onMouseDown:i,ref:l,width:s,height:h,style:y,isRoot:!0},a.map(this.renderObject.bind(this)))}}]),t}(o.Component);j.defaultProps={onMouseOver:function(){}};var O={canvas:{backgroundSize:400},grid:{backgroundImage:"url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+CjxyZWN0IHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0iI2ZmZiI+PC9yZWN0Pgo8cmVjdCB3aWR0aD0iMTAiIGhlaWdodD0iMTAiIGZpbGw9IiNGN0Y3RjciPjwvcmVjdD4KPHJlY3QgeD0iMTAiIHk9IjEwIiB3aWR0aD0iMTAiIGhlaWdodD0iMTAiIGZpbGw9IiNGN0Y3RjciPjwvcmVjdD4KPC9zdmc+)",backgroundSize:"auto"}},k=j;function E(e){var t=e.boundingBox,a={marginTop:t.height+5,marginLeft:t.width+5},i=Object(o.useState)(!1),l=Object(n.a)(i,2),s=l[0],h=l[1];return r.a.createElement("div",{style:Object(c.a)({},M.anchor,s?M.anchorHovered:{},M.scaleAnchor,a),className:"resize-anchor",onMouseOver:function(){return h(!0)},onMouseOut:function(){return h(!1)},onMouseDown:e.onMouseDown})}function w(e){var t={marginLeft:e.boundingBox.width+5},a=Object(o.useState)(!1),i=Object(n.a)(a,2),l=i[0],s=i[1];return r.a.createElement("div",{style:Object(c.a)({},M.anchor,l?M.anchorHovered:{},M.rotateAnchor,t),className:"rotate-anchor",onMouseOver:function(){return s(!0)},onMouseOut:function(){return s(!1)},onMouseDown:e.onMouseDown})}var C=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(h.a)(t,[{key:"onMouseDown",value:function(e){e.target.classList.contains("handler")&&this.props.onDrag(e)}},{key:"render",value:function(){var e=this.props,t=e.boundingBox,a=Object(c.a)({},M.handler,t,{width:t.width+10,height:t.height+10,left:t.left-5,top:t.top-5,transform:"rotate(".concat(t.rotate,"deg)")});return r.a.createElement("div",{className:"handler",style:a,onMouseLeave:e.onMouseLeave,onDoubleClick:e.onDoubleClick,onMouseDown:this.onMouseDown.bind(this)},e.canRotate&&r.a.createElement(w,{onMouseDown:e.onRotate,boundingBox:t}),e.canResize&&r.a.createElement(E,{onMouseDown:e.onResize,boundingBox:t}))}}]),t}(o.Component),M={handler:{position:"absolute",border:"2px solid #dedede",zIndex:999999},anchor:{width:10,height:10},anchorHovered:{borderColor:"gray"},scaleAnchor:{marginTop:-3,borderRight:"2px solid #dedede",borderBottom:"2px solid #dedede",position:"absolute",zIndex:-1},rotateAnchor:{marginTop:-8,borderRight:"2px solid #dedede",borderTop:"2px solid #dedede",position:"absolute",borderTopRightRadius:3,zIndex:-1}},A=C,S={FREE:0,DRAG:1,SCALE:2,ROTATE:3,DRAW:4,TYPE:5,EDIT_OBJECT:6},I=function(e){var t=e.object,a=e.startPoint,n=e.mouse,o=a.objectX,r=a.objectY,i=a.clientX,l=a.clientY,s=a.width+n.x-i,h=a.height+n.y-l;return Object(c.a)({},t,{x:s>0?o:o+s,y:h>0?r:r+h,width:Math.abs(s),height:Math.abs(h)})},T=function(e){var t=e.object,a=e.startPoint,n=e.mouse;return Object(c.a)({},t,{x:n.x-(a.clientX-a.objectX),y:n.y-(a.clientY-a.objectY)})},D=function(e){var t=e.object,a=e.startPoint,n=e.mouse,o=-1*(180*Math.atan2(a.objectX+(t.width||0)/2-n.x,a.objectY+(t.height||0)/2-n.y)/Math.PI+45);return Object(c.a)({},t,{rotate:o})},R=a(84),P={propertyPanel:{position:"relative",width:240,padding:"0 5px 6px 5px",fontFamily:'"Lucida Grande", sans-serif',fontSize:11},propertyGroup:{backgroundColor:"#f1f1f1",overflow:"hidden",paddingBottom:12,paddingTop:2,paddingLeft:10,border:"0px solid #d3d3d3",marginBottom:5},inputHelper:{fontSize:9,color:"#d2d2d2",paddingTop:2,paddingLeft:5},inlineInputHelper:{fontSize:9,display:"inline-block",marginLeft:10},panelTitle:{float:"left",width:60,padding:3,color:"#b8b8b8"},columns:{overflow:"hidden",marginTop:10},column:{float:"left",marginRight:5},input:{background:"#e1e1e1",borderWidth:0,padding:"3px 5px",color:"gray",borderRadius:3},select:{WebkitAppearance:"none",MozAppearance:"none",borderWidth:0,padding:"3px 3px 3px 5px",outline:"none",borderRadius:0,borderRight:"3px solid #b7b7b7",color:"gray",width:75},integerInput:{width:50,outline:"none"},textInput:{marginTop:2,outline:"none",width:"100%",padding:3},colorInput:{width:18,height:18,borderRadius:"50%",display:"inline-block",background:"white",marginRight:3},color:{marginLeft:2,marginTop:2,width:14,height:14,display:"inline-block",borderRadius:"50%"},colorCover:{position:"fixed",top:0,right:0,bottom:0,left:0},colorPopover:{position:"absolute",marginTop:8,zIndex:999999},empty:{display:"none"},button:{color:"#515151",textDecoration:"none",display:"block",padding:"2px 0"},item:{padding:"2px 6px",cursor:"default"},highlightedItem:{color:"white",background:"hsl(200, 50%, 50%)",padding:"2px 6px",cursor:"default"}},z=function(e){var t=e.showIf,a=void 0===t||t,n=Object(R.a)(e,["showIf"]);return a?r.a.createElement("div",{style:P.propertyGroup},n.children):r.a.createElement("div",{style:P.empty})},W=function(e){var t=e.onClick,a=Object(R.a)(e,["onClick"]);return r.a.createElement("a",{href:"#",style:P.button,onClick:function(e){e.preventDefault();for(var a=arguments.length,n=new Array(a>1?a-1:0),o=1;o<a;o++)n[o-1]=arguments[o];t.apply(void 0,n)}},a.children)},Y=function(e){var t=e.value!==e.defaultValue,a=t?e.defaultValue:e.nextState;return r.a.createElement(v,{icon:e.icon,active:t,onClick:function(){return e.onChange(a)}})},H=function(e){var t=e.showIf,a=void 0===t||t,n=Object(R.a)(e,["showIf"]);return a?r.a.createElement("div",{style:P.columns},r.a.createElement("div",{style:P.panelTitle},n.label),n.children):r.a.createElement("div",{style:P.empty})},X=function(e){var t=e.showIf,a=void 0===t||t,n=Object(R.a)(e,["showIf"]);return a?r.a.createElement("div",{style:Object(c.a)({},P.column,n.style)},n.children||r.a.createElement("input",{style:Object(c.a)({},P.input,P.integerInput),value:n.value,onChange:function(e){return n.onChange(e.target.value)}}),n.label&&r.a.createElement("div",{style:P.inputHelper},n.label)):r.a.createElement("div",{style:P.empty})},B=a(562),L=a.n(B),U=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).fontFamilies=[{name:"Alegreya Sans",family:"Alegreya Sans"},{name:"Alegreya",family:"Alegreya"},{name:"American Typewriter",family:"AmericanTypewriter, Georgia, serif"},{name:"Anonymous Pro",family:"Anonymous Pro"},{name:"Archivo Narrow",family:"Archivo Narrow"},{name:"Arvo",family:"Arvo"},{name:"Bitter",family:"Bitter"},{name:"Cardo",family:"Cardo"},{name:"Chivo",family:"Chivo"},{name:"Crimson Text",family:"Crimson Text"},{name:"Domine",family:"Domine"},{name:"Fira Sans",family:"Fira Sans"},{name:"Georgia",family:"Georgia, serif"},{name:"Helvetica Neue",family:'"Helvetica Neue", Arial, sans-serif'},{name:"Helvetica",family:"Helvetica, Arial, sans-serif"},{name:"Inconsolata",family:"Inconsolata"},{name:"Karla",family:"Karla"},{name:"Lato",family:"Lato"},{name:"Libre Baskerville",family:"Libre Baskerville"},{name:"Lora",family:"Lora"},{name:"Merriweather",family:"Merriweather"},{name:"Monaco",family:"Monaco, consolas, monospace"},{name:"Montserrat",family:"Montserrat"},{name:"Neuton",family:"Neuton"},{name:"Old Standard TT",family:"Old Standard TT"},{name:"Open Sans",family:"Open Sans"},{name:"PT Serif",family:"PT Serif"},{name:"Playfair Display",family:"Playfair Display"},{name:"Poppins",family:"Poppins"},{name:"Roboto Slab",family:"Roboto Slab"},{name:"Roboto",family:"Roboto"},{name:"Source Pro",family:"Source Pro"},{name:"Source Sans Pro",family:"Source Sans Pro"},{name:"Varela Round",family:"Varela Round"},{name:"Work Sans",family:"Work Sans"}],a.handleFontFamilyChange=function(e){var t=e.target.value;L.a.load({google:{families:[t]}}),a.props.onChange("fontFamily",t)},a.sortFonts=function(e,t){return e.name.toLowerCase()>t.name.toLowerCase()?1:e.name.toLowerCase()<t.name.toLowerCase()?-1:0},a}return Object(y.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this,t=this.props.object;return r.a.createElement(z,{showIf:m.a.has(t,"text")},r.a.createElement("div",{style:P.columns},r.a.createElement(X,{style:{float:"right",marginRight:15}},m.a.has(t,"fontWeight")&&r.a.createElement(Y,{icon:"format-bold",defaultValue:"normal",nextState:"bold",value:t.fontWeight,onChange:this.props.onChange.bind(this,"fontWeight")}),m.a.has(t,"fontStyle")&&r.a.createElement(Y,{icon:"format-italic",defaultValue:"normal",nextState:"italic",value:t.fontStyle,onChange:this.props.onChange.bind(this,"fontStyle")}),m.a.has(t,"textDecoration")&&r.a.createElement(Y,{icon:"format-underline",defaultValue:"none",nextState:"underline",value:t.textDecoration,onChange:this.props.onChange.bind(this,"textDecoration")})),r.a.createElement(X,{style:{float:"right"}},m.a.has(t,"fontSize")&&r.a.createElement("input",{style:Object(c.a)({},P.input,P.integerInput,{width:35}),value:t.fontSize,onChange:function(t){return e.props.onChange("fontSize",t.target.value)}})),r.a.createElement(X,{style:{float:"right",marginRight:10}},r.a.createElement("select",{style:P.select,value:t.fontFamily,onChange:this.handleFontFamilyChange},this.fontFamilies.sort(this.sortFonts).map(function(e){var t=e.name,a=e.family;return r.a.createElement("option",{key:a,value:a},t)}))),r.a.createElement("div",{style:Object(c.a)({},P.row,{paddingTop:25,paddingRight:10})},r.a.createElement("input",{style:Object(c.a)({},P.input,P.textInput),onChange:function(t){return e.props.onChange("text",t.target.value)},value:t.text}))))}}]),t}(o.Component),V=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){this.props.object;return r.a.createElement(z,null,r.a.createElement(H,{label:"Arrange"},r.a.createElement(X,null,r.a.createElement(W,{onClick:this.props.onArrange.bind(this,"back")},r.a.createElement(v,{icon:"send-to-back"}),r.a.createElement("span",null,"send to back")),r.a.createElement(W,{onClick:this.props.onArrange.bind(this,"front")},r.a.createElement(v,{icon:"bring-to-front"}),r.a.createElement("span",null,"bring to front")))))}}]),t}(o.Component),G=a(171),F=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={show:!1},a.toggleVisibility=function(e){e.preventDefault&&e.preventDefault();var t=a.state.show;a.setState({show:!t})},a.handleChange=function(e){var t=e.rgb,n=t.r,o=t.g,r=t.b,i=t.a;a.props.onChange("rgba(".concat(n,", ").concat(o,", ").concat(r,", ").concat(i,")"))},a.handleClose=function(e){e.preventDefault&&e.preventDefault(),a.setState({show:!1})},a}return Object(y.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.state.show,t=this.props.value;return r.a.createElement("div",null,r.a.createElement("a",{href:"#",style:P.colorInput,onClick:this.toggleVisibility.bind(this)},r.a.createElement("span",{style:Object(c.a)({},P.color,{backgroundColor:t})})),e&&r.a.createElement("div",{style:P.colorPopover},r.a.createElement("div",{style:P.colorCover,onClick:this.handleClose}),r.a.createElement(G.SketchPicker,{color:t,onChange:this.handleChange})))}}]),t}(o.Component),N=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).modes=["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],a}return Object(y.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this,t=this.props.object;return r.a.createElement(z,null,r.a.createElement(H,{label:"Fill",showIf:m.a.has(t,"fill")},r.a.createElement(X,null,r.a.createElement(F,{value:t.fill,onChange:this.props.onChange.bind(this,"fill")}))),r.a.createElement(H,{label:"Stroke",showIf:m.a.has(t,"stroke")},r.a.createElement(X,null,r.a.createElement(F,{value:t.stroke,onChange:this.props.onChange.bind(this,"stroke")})),r.a.createElement(X,{label:"width"},r.a.createElement("input",{style:Object(c.a)({},P.input,P.integerInput,{width:30}),onChange:function(t){return e.props.onChange("strokeWidth",t.target.value)},value:t.strokeWidth})),r.a.createElement(X,{showIf:m.a.has(t,"radius"),label:"radius"},r.a.createElement("input",{style:Object(c.a)({},P.input,P.integerInput,{width:30}),onChange:function(t){return e.props.onChange("radius",t.target.value)},value:t.radius}))),r.a.createElement(H,{label:"Blending"},r.a.createElement(X,null,r.a.createElement("select",{style:P.select,value:t.blendMode,onChange:function(t){return e.props.onChange("blendMode",t.target.value)}},this.modes.map(function(e){return r.a.createElement("option",{key:e,value:e},e)})))))}}]),t}(o.Component),Z=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props.object;return r.a.createElement(z,{object:e},m.a.has(e,"width","height")&&r.a.createElement(H,{label:"Size"},r.a.createElement(X,{showIf:m.a.has(e,"width"),label:"width",value:e.width,onChange:this.props.onChange.bind(this,"width")}),r.a.createElement(X,{showIf:m.a.has(e,"height"),label:"height",value:e.height,onChange:this.props.onChange.bind(this,"height")})),r.a.createElement(H,{label:"Position"},r.a.createElement(X,{showIf:m.a.has(e,"x"),label:"top",value:e.x,onChange:this.props.onChange.bind(this,"x")}),r.a.createElement(X,{showIf:m.a.has(e,"y"),label:"top",value:e.y,onChange:this.props.onChange.bind(this,"y")})),m.a.has(e,"rotate")&&r.a.createElement(H,{label:"Rotation"},r.a.createElement(X,{label:"angle",value:e.rotate,onChange:this.props.onChange.bind(this,"rotate")})))}}]),t}(o.Component),K=a(601),J=(a(574),U),Q=V,_=N,q=Z,$=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(h.a)(t,[{key:"onDrop",value:function(e){if(0!=e.length){var t=e[0],a=new FileReader,n=function(e){this.props.onChange("xlinkHref",e.target.result)}.bind(this);a.onload=n,a.readAsDataURL(t)}}},{key:"render",value:function(){var e=this.props.object;return r.a.createElement(z,{object:e,showIf:m.a.has(e,"xlinkHref")},r.a.createElement(H,{label:"Image"},r.a.createElement(X,null,r.a.createElement(K.a,{accept:"image/*",onDrop:this.onDrop.bind(this),multiple:!1,style:{float:"left",marginRight:"3px",padding:"3px",border:"1px solid gray",color:"gray",borderRadius:"3px",width:"100px",textAlign:"center"},activeStyle:{border:"1px solid blue",backgroundColor:"white",color:"black"}},function(e){var t=e.getRootProps,a=e.getInputProps;return r.a.createElement("div",t(),r.a.createElement("input",a()),r.a.createElement("p",null,"Drop new file"))}))))}}]),t}(o.Component),ee=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(h.a)(t,[{key:"getStyle",value:function(){return{mixBlendMode:this.props.object.blendMode}}},{key:"getTransformMatrix",value:function(e){var t=e.rotate,a=e.x,n=e.y,o=e.width,r=e.height;if(t){var i=o/2+a,l=r/2+n;return"rotate(".concat(t," ").concat(i," ").concat(l,")")}}},{key:"getObjectAttributes",value:function(){var e=this.props,t=e.object,a=e.onRender,n=Object(R.a)(e,["object","onRender"]);return Object(c.a)({},t,{transform:this.getTransformMatrix(t),ref:a},n)}}]),t}(o.Component);ee.panels=[q,J,_,$,Q];var te=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={mode:"source"},a}return Object(y.a)(t,e),Object(h.a)(t,[{key:"getMouseCoords",value:function(e){var t=this.props,a=t.object,n=t.offset;return{x:e.clientX-n.x-(a.x-a.moveX),y:e.clientY-n.y-(a.y-a.moveY)}}},{key:"componentWillMount",value:function(e){var t=this.props.object;t.path.length?this.setState({mode:"edit"}):this.props.onUpdate({path:[{x1:t.x,y1:t.y}],moveX:t.x,moveY:t.y})}},{key:"getCurrentPath",value:function(){var e=this.props.object.path;return e[e.length-1]}},{key:"updatePath",value:function(e,t){var a=this.props.object.path,n=a[t];this.props.onUpdate({path:[].concat(Object(l.a)(a.slice(0,t)),[Object(c.a)({},n,e)],Object(l.a)(a.slice(t+1)))})}},{key:"updateCurrentPath",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=this.props.object.path,n=this.getCurrentPath();this.props.onUpdate({closed:t,path:[].concat(Object(l.a)(a.slice(0,a.length-1)),[Object(c.a)({},n,e)])})}},{key:"onMouseMove",value:function(e){var t=this.state.mode,a=(this.getCurrentPath(),this.getMouseCoords(e)),n=this.props.object,o=n.moveX,r=n.moveY,l=a.x,c=a.y,s=this.isCollides(o,r,l,c);if(s&&(l=o,c=r),"source"===t&&this.updateCurrentPath({x1:a.x,y1:a.y}),"target"===t&&this.updateCurrentPath({x2:l,y2:c,x:l,y:c}),"connect"===t&&this.updateCurrentPath({x:l,y:c}),"target"!==t&&"connect"!==t||this.setState({closePath:s}),"move"===t){var h,u=this.state,d=u.movedPathIndex,y=u.movedTargetX,p=u.movedTargetY;this.updatePath((h={},Object(i.a)(h,y,l),Object(i.a)(h,p,c),h),d)}"moveInitial"===t&&this.props.onUpdate({moveX:l,moveY:c})}},{key:"isCollides",value:function(e,t,a,n){var o=e-a,r=t-n,i=2*(arguments.length>4&&void 0!==arguments[4]?arguments[4]:5);return o*o+r*r<=i*i}},{key:"onMouseDown",value:function(e){return this.state.closePath?this.closePath():"svg"===e.target.tagName?this.props.onClose():void("target"===this.state.mode&&this.setState({mode:"connect"}))}},{key:"onMouseUp",value:function(e){var t=this.state.mode,a=this.props.object.path,n=this.getMouseCoords(e),o=this.getCurrentPath();if(this.state.closePath)return this.closePath();"source"===t&&this.setState({mode:"target"}),"connect"===t&&(this.setState({mode:"target"}),this.props.onUpdate({path:[].concat(Object(l.a)(a),[{x1:o.x+(o.x-o.x2),y1:o.y+(o.y-o.y2),x2:n.x,y2:n.y,x:n.x,y:n.y}])})),"move"!==t&&"moveInitial"!==t||this.setState({mode:"edit"})}},{key:"getCurrentPoint",value:function(e){var t=this.state,a=this.props.object;if(0===e)return{x:a.moveX,y:a.moveY};var n=t.path[e-1];return{x:n.x,y:n.y}}},{key:"closePath",value:function(){this.setState({mode:null}),this.props.onClose(),this.updateCurrentPath({x:this.props.object.moveX,y:this.props.object.moveY},!0)}},{key:"moveVertex",value:function(e,t,a,n){if(n.preventDefault(),"edit"===this.state.mode){this.getMouseCoords(n);this.setState({mode:"move",movedPathIndex:e,movedTargetX:t,movedTargetY:a})}}},{key:"moveInitialVertex",value:function(e){this.setState({mode:"moveInitial"})}},{key:"render",value:function(){var e=this,t=this.props,a=t.object,n=t.width,o=t.height,i=(a.path,this.state,a.moveX),l=a.moveY,s=a.x,h=a.y,u=s-i,d=h-l;return r.a.createElement("div",{style:ae.canvas,onMouseUp:this.onMouseUp.bind(this),onMouseMove:this.onMouseMove.bind(this),onMouseDown:this.onMouseDown.bind(this)},r.a.createElement("svg",{style:{width:n,height:o}},r.a.createElement("g",{transform:"translate(".concat(u," ").concat(d,")\n                         rotate(").concat(a.rotate," ").concat(a.x," ").concat(a.y,")")},a.path.map(function(t,a){var n=t.x1,o=t.y1,s=t.x2,h=t.y2,u=t.x,d=t.y;return r.a.createElement("g",{key:a},s&&h&&r.a.createElement("g",null,r.a.createElement("line",{x1:s,y1:h,x2:u,y2:d,style:ae.edge,onMouseDown:e.moveVertex.bind(e,a,"x","y")}),r.a.createElement("circle",{r:4,cx:s,cy:h,style:ae.vertex,onMouseDown:e.moveVertex.bind(e,a,"x2","y2")}),r.a.createElement("circle",{r:4,cx:u,cy:d,style:ae.vertex,onMouseDown:e.moveVertex.bind(e,a,"x","y")})),0===a&&r.a.createElement("g",null,r.a.createElement("line",{x1:i,y1:l,style:ae.edge,onMouseDown:e.moveVertex.bind(e,a,"x1","y1"),x2:n,y2:o,stroke:"black"}),r.a.createElement("circle",{style:ae.vertex,r:4,cx:n,cy:o,onMouseDown:e.moveVertex.bind(e,a,"x1","y1")}),r.a.createElement("circle",{r:4,cx:i,cy:l,style:Object(c.a)({},ae.vertex,ae.initialVertex)})))}))))}}]),t}(o.Component),ae={vertex:{fill:"#3381ff",strokeWidth:0},initialVertex:{fill:"#ffd760"},edge:{stroke:"#b9b9b9"},canvas:{position:"absolute"}},ne=te,oe=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(h.a)(t,[{key:"buildPath",value:function(e){var t=e.path.map(function(e,t){var a=e.x1,n=e.y1,o=e.x2,r=e.y2,i=e.x,l=e.y;return"C ".concat(a," ").concat(n,", ").concat(o," ").concat(r,", ").concat(i," ").concat(l)}),a=["M ".concat(e.moveX," ").concat(e.moveY)].concat(Object(l.a)(t));return e.closed&&(a=[].concat(Object(l.a)(a),["Z"])),a.join("\n")}},{key:"getTransformMatrix",value:function(e){var t=e.rotate,a=e.x,n=e.y,o=e.moveX,r=e.moveY;return"\n      translate(".concat(a-o," ").concat(n-r,")\n      rotate(").concat(t," ").concat(a," ").concat(n,")\n    ")}},{key:"render",value:function(){var e=this.props.object,t=e.closed?e.fill:"transparent";return r.a.createElement("path",Object.assign({style:this.getStyle(e)},this.getObjectAttributes(),{d:this.buildPath(e),fill:t}))}}]),t}(ee);oe.meta={initial:{fill:"#e3e3e3",closed:!1,rotate:0,moveX:0,moveY:0,path:[],stroke:"gray",strokeWidth:1},mode:S.DRAW_PATH,icon:r.a.createElement(v,{icon:"polygon",size:30}),editor:ne};var re=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props,t=e.object;e.index;return r.a.createElement("rect",Object.assign({style:this.getStyle()},this.getObjectAttributes(),{rx:t.radius,width:t.width,height:t.height}))}}]),t}(ee);re.meta={icon:r.a.createElement(v,{icon:"rectangle",size:30}),initial:{width:5,height:5,strokeWidth:0,fill:"blue",radius:0,blendMode:"normal",rotate:0}};var ie=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props,t=e.object;e.index;return r.a.createElement("ellipse",Object.assign({style:this.getStyle()},this.getObjectAttributes(),{rx:t.width/2,ry:t.height/2,cx:t.x+t.width/2,cy:t.y+t.height/2}))}}]),t}(ee);ie.meta={icon:r.a.createElement(v,{icon:"circle",size:30}),initial:{width:5,height:5,rotate:0,fill:"yellow",strokeWidth:0,blendMode:"normal"}};var le=a(602),ce=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(h.a)(t,[{key:"getStyle",value:function(){var e=this.props.object;return Object(c.a)({},Object(le.a)(Object(d.a)(t.prototype),"getStyle",this).call(this),{dominantBaseline:"central",fontWeight:e.fontWeight,fontStyle:e.fontStyle,textDecoration:e.textDecoration,mixBlendMode:e.blendMode,WebkitUserSelect:"none"})}},{key:"getTransformMatrix",value:function(e){var t=e.rotate,a=e.x,n=e.y;return"rotate(".concat(t," ").concat(a," ").concat(n,")")}},{key:"render",value:function(){var e=this.props,t=e.object;e.index;L.a.load({google:{families:[t.fontFamily]}});var a=this.getObjectAttributes(),n=(a.rotate,Object(R.a)(a,["rotate"]));return r.a.createElement("text",Object.assign({style:this.getStyle()},n,{textAnchor:"right",fontSize:t.fontSize,fontFamily:t.fontFamily}),t.text)}}]),t}(ee);ce.meta={icon:r.a.createElement(v,{icon:"text",size:30}),initial:{text:"Type some text...",rotate:0,fontWeight:"normal",fontStyle:"normal",textDecoration:"none",fill:"black",fontSize:20,fontFamily:"Open Sans"}};var se=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props,t=e.object;e.index;return r.a.createElement("image",Object.assign({xlinkHref:t.xlinkHref},this.getObjectAttributes(),{width:t.width,height:t.height}))}}]),t}(ee);se.meta={icon:r.a.createElement(v,{icon:"image",size:30}),initial:{width:100,height:100,xlinkHref:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAYAAADgzO9IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAhSURBVHgBtYmxDQAADII8lv9faBNH4yoJLAi4ppxgMZoPoxQrXYyeEfoAAAAASUVORK5CYII="}};var he=oe,ue=re,de=ie,ye=ce,pe=se,me=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=(t.object,t.objectComponent),n=t.id;return r.a.createElement("div",{style:Object(c.a)({},P.propertyPanel)},a.panels.map(function(t,a){return r.a.createElement(t,Object.assign({key:a,id:n},e.props))}))}}]),t}(o.Component),be=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={mode:S.FREE,handler:{top:200,left:200,width:50,height:50,rotate:0},currentObjectIndex:null,selectedObjectIndex:null,selectedTool:null},a.keyMap={removeObject:["del","backspace"],moveLeft:["left","shift+left"],moveRight:["right","shift+right"],moveUp:["up","shift+up"],moveDown:["down","shift+down"],closePath:["enter"]},a}return Object(y.a)(t,e),Object(h.a)(t,[{key:"componentWillMount",value:function(){this.objectRefs={}}},{key:"showHandler",value:function(e){var t=this.state.mode,a=this.props.objects[e];t===S.FREE&&(this.updateHandler(e,a),this.setState({currentObjectIndex:e,showHandler:!0}))}},{key:"hideHandler",value:function(){this.state.mode===S.FREE&&this.setState({showHandler:!1})}},{key:"getStartPointBundle",value:function(e,t){var a=this.state.currentObjectIndex,n=this.props.objects,o=this.getMouseCoords(e);return t=t||n[a],{clientX:o.x,clientY:o.y,objectX:t.x,objectY:t.y,width:t.width,height:t.height,rotate:t.rotate}}},{key:"startDrag",value:function(e,t){var a=this.state.currentObjectIndex;this.setState({mode:e,startPoint:this.getStartPointBundle(t),selectedObjectIndex:a})}},{key:"resetSelection",value:function(){this.setState({selectedObjectIndex:null})}},{key:"generateUUID",value:function(){var e=(new Date).getTime();return window.performance&&"function"===typeof window.performance.now&&(e+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var a=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?a:3&a|8).toString(16)})}},{key:"newObject",value:function(e){var t=this.state,a=t.mode,n=t.selectedTool;if(this.resetSelection(e),a===S.DRAW){var o=this.getObjectComponent(n).meta,r=this.getMouseCoords(e),i=this.props,s=i.objects,h=i.onUpdate,u=Object(c.a)({},o.initial,{type:n,x:r.x,y:r.y,uuid:this.generateUUID()});h([].concat(Object(l.a)(s),[u])),this.setState({currentObjectIndex:s.length,selectedObjectIndex:s.length,startPoint:this.getStartPointBundle(e,u),mode:o.editor?S.EDIT_OBJECT:S.SCALE,selectedTool:null})}}},{key:"updatePath",value:function(e){var t=e.path,a=e.x-e.moveX,n=e.y-e.moveY,o=t.map(function(e){var t=e.x1,o=e.y1,r=e.x2,i=e.y2,l=e.x,c=e.y;return{x1:a+t,y1:n+o,x2:a+r,y2:n+i,x:a+l,y:n+c}});return Object(c.a)({},e,{path:o,moveX:e.x,moveY:e.y})}},{key:"updateObject",value:function(e,t,a){var n=this,o=this.props,r=o.objects;(0,o.onUpdate)(r.map(function(o,r){if(r===e){var i=Object(c.a)({},o,t);return a?n.updatePath(i):i}return o}))}},{key:"getOffset",value:function(){var e=this.svgElement.getBoundingClientRect(),t=this.getCanvas(),a=t.canvasWidth,n=t.canvasHeight;return{x:e.left,y:e.top,width:a,height:n}}},{key:"applyOffset",value:function(e){var t=this.getOffset();return Object(c.a)({},e,{x:e.x-t.x,y:e.y-t.y})}},{key:"updateHandler",value:function(e,t){var a=this.objectRefs[e].getBoundingClientRect(),n=this.getCanvas(),o=n.canvasOffsetX,r=n.canvasOffsetY,i=Object(c.a)({},this.state.handler,{width:t.width||a.width,height:t.height||a.height,top:t.y+r,left:t.x+o,rotate:t.rotate});if(!t.width){var l=this.getOffset();i=Object(c.a)({},i,{left:a.left-l.x,top:a.top-l.y})}this.setState({handler:i})}},{key:"snapCoordinates",value:function(e){var t=e.x,a=e.y,n=this.props.snapToGrid;return{x:t-t%n,y:a-a%n}}},{key:"getMouseCoords",value:function(e){var t=e.clientX,a=e.clientY,n=this.applyOffset({x:t,y:a});return this.snapCoordinates(n)}},{key:"onDrag",value:function(e){var t,a=this.state,n=a.currentObjectIndex,o=a.startPoint,r=a.mode,l=this.props.objects[n],c=this.getMouseCoords(e),s=I,h=D,u=T,d=(t={},Object(i.a)(t,S.SCALE,s),Object(i.a)(t,S.ROTATE,h),Object(i.a)(t,S.DRAG,u),t)[r];if(d){var y=d({object:l,startPoint:o,mouse:c,objectIndex:n,objectRefs:this.objectRefs});this.updateObject(n,y),this.updateHandler(n,y)}null!==n&&this.detectOverlappedObjects(e)}},{key:"detectOverlappedObjects",value:function(e){var t=this,a=this.state.currentObjectIndex,n=(this.props.objects,this.getMouseCoords(e)),o=this.objectRefs,r=Object.keys(o),i=this.getOffset(),l=o[a].getBoundingClientRect();r.filter(function(e,t){return t!==a}).forEach(function(e){var a=o[e].getBoundingClientRect(),r=a.left,c=a.top,s=a.width,h=a.height;r-=i.x,c-=i.y,n.x>r&&n.x<r+s&&n.y>c&&n.y<c+h&&l.width>s&&l.height>h&&t.showHandler(Number(e))})}},{key:"stopDrag",value:function(){var e=this.state.mode;m.a.includes([S.DRAG,S.ROTATE,S.SCALE],e)&&this.setState({mode:S.FREE})}},{key:"showEditor",value:function(){var e=this.state.selectedObjectIndex,t=this.props.objects[e];this.getObjectComponent(t.type).meta.editor&&this.setState({mode:S.EDIT_OBJECT,showHandler:!1})}},{key:"getObjectComponent",value:function(e){return this.props.objectTypes[e]}},{key:"getCanvas",value:function(){var e=this.props,t=e.width,a=e.height,n=this.props,o=n.canvasWidth,r=void 0===o?t:o,i=n.canvasHeight,l=void 0===i?a:i;return{width:t,height:a,canvasWidth:r,canvasHeight:l,canvasOffsetX:(r-t)/2,canvasOffsetY:(l-a)/2}}},{key:"renderSVG",value:function(){var e=this,t=this.getCanvas(),a=t.width,n=t.height,o=(t.canvasOffsetX,t.canvasOffsetY,this.props),i=o.background,l=o.objects,c=(o.svgStyle,o.objectTypes);return console.log("his.svgElement",this.svgElement),r.a.createElement(k,{background:i,width:a,canvas:t,height:n,objects:l,onMouseOver:this.showHandler.bind(this),objectTypes:c,objectRefs:this.objectRefs,onRender:function(t){return e.svgElement=t},onMouseDown:this.newObject.bind(this)})}},{key:"selectTool",value:function(e){this.setState({selectedTool:e,mode:S.DRAW,currentObjectIndex:null,showHandler:!1,handler:null})}},{key:"handleObjectChange",value:function(e,t){var a=this.state.selectedObjectIndex;this.updateObject(a,Object(i.a)({},e,t))}},{key:"handleArrange",value:function(e){var t=this,a=this.state.selectedObjectIndex,o=this.props.objects,r=o[a],i={front:function(e,t){return[[].concat(Object(l.a)(e),[t]),e.length]},back:function(e,t){return[[t].concat(Object(l.a)(e)),0]}},c=o.filter(function(e,t){return a!==t});this.setState({selectedObjectIndex:null},function(){var a=(0,i[e])(c,r),o=Object(n.a)(a,2),l=o[0],s=o[1];t.props.onUpdate(l),t.setState({selectedObjectIndex:s})})}},{key:"removeCurrent",value:function(){var e=this,t=this.state.selectedObjectIndex,a=this.props.objects.filter(function(e,a){return t!==a});this.setState({currentObjectIndex:null,selectedObjectIndex:null,showHandler:!1,handler:null},function(){e.objectRefs={},e.props.onUpdate(a)})}},{key:"moveSelectedObject",value:function(e,t,a,n){var o=this.state.selectedObjectIndex,r=this.props.objects[o];n.startsWith("shift")&&(t*=10);var l=Object(c.a)({},r,Object(i.a)({},e,r[e]+t));this.updateObject(o,l),this.updateHandler(o,l)}},{key:"getKeymapHandlers",value:function(){var e=this,t={removeObject:this.removeCurrent.bind(this),moveLeft:this.moveSelectedObject.bind(this,"x",-1),moveRight:this.moveSelectedObject.bind(this,"x",1),moveUp:this.moveSelectedObject.bind(this,"y",-1),moveDown:this.moveSelectedObject.bind(this,"y",1),closePath:function(){return e.setState({mode:S.FREE})}};return m.a.mapValues(t,function(e){return function(t,a){"INPUT"!==t.target.tagName&&(t.preventDefault(),e(t,a))}})}},{key:"render",value:function(){var e,t,a,n=this,o=this.state,i=o.showHandler,l=o.handler,s=o.mode,h=o.selectedObjectIndex,u=o.selectedTool,d=this.props,y=d.objects,p=d.objectTypes,v=d.insertMenu,g=y[h],f=s===S.EDIT_OBJECT,x=null!==h,j=this.getCanvas(),O=j.width,k=j.height;j.canvasWidth,j.canvasHeight;return g&&(e=this.getObjectComponent(g.type),t=Object(c.a)({},e.meta.initial,g),a=e.meta.editor),r.a.createElement(b.HotKeys,{keyMap:this.keyMap,style:ve.keyboardManager,handlers:this.getKeymapHandlers()},r.a.createElement("div",{className:"container",style:Object(c.a)({},ve.container,this.props.style,{padding:0}),onMouseMove:this.onDrag.bind(this),onMouseUp:this.stopDrag.bind(this)},v&&r.a.createElement(v,{tools:p,currentTool:u,onSelect:this.selectTool.bind(this)}),r.a.createElement("div",{style:ve.canvasContainer},f&&a&&r.a.createElement(a,{object:g,offset:this.getOffset(),onUpdate:function(e){return n.updateObject(h,e)},onClose:function(){return n.setState({mode:S.FREE})},width:O,height:k}),i&&r.a.createElement(A,{boundingBox:l,canResize:m()(g).has("width")||m()(g).has("height"),canRotate:m()(g).has("rotate"),onMouseLeave:this.hideHandler.bind(this),onDoubleClick:this.showEditor.bind(this),onDrag:this.startDrag.bind(this,S.DRAG),onResize:this.startDrag.bind(this,S.SCALE),onRotate:this.startDrag.bind(this,S.ROTATE)}),this.renderSVG()),x&&r.a.createElement(me,{id:this.props.id,object:t,onArrange:this.handleArrange.bind(this),onChange:this.handleObjectChange.bind(this),objectComponent:e})))}}]),t}(o.Component);be.defaultProps={objectTypes:{text:ye,rectangle:ue,circle:de,polygon:he,image:pe},snapToGrid:1,svgStyle:{},insertMenu:x};var ve={container:{position:"relative",display:"flex",flexDirection:"row"},canvasContainer:{position:"relative"},keyboardManager:{outline:"none"}},ge=be,fe=[{width:239,rotate:0,fill:"rgba(236, 181, 114, 1)",strokeWidth:0,blendMode:"normal",type:"circle",x:116,y:34.5625,height:null},{fill:"rgba(220, 134, 0, 1)",closed:!0,rotate:0,moveX:47,moveY:65.5625,path:[{x1:47,y1:65.5625,x2:57,y2:61.5625,x:57,y:61.5625},{x1:57,y1:61.5625,x2:182,y2:356.5625,x:182,y:356.5625},{x1:182,y1:356.5625,x2:171,y2:362.5625,x:171,y:362.5625},{x1:171,y1:362.5625,x2:47,y2:65.5625,x:47,y:65.5625}],stroke:"gray",strokeWidth:"0",type:"polygon",x:47,y:65.5625},{fill:"rgba(160, 41, 1, 1)",closed:!0,rotate:0,moveX:22,moveY:259.5625,path:[{x1:22,y1:259.5625,x2:53,y2:244.5625,x:53,y:244.5625},{x1:53,y1:244.5625,x2:71,y2:278.5625,x:71,y:278.5625},{x1:71,y1:278.5625,x2:43,y2:297.5625,x:43,y:297.5625},{x1:43,y1:297.5625,x2:22,y2:259.5625,x:22,y:259.5625}],stroke:"gray",strokeWidth:"0",type:"polygon",x:22,y:259.5625},{fill:"rgba(135, 103, 82, 1)",closed:!0,rotate:0,moveX:47,moveY:212.5625,path:[{x1:47,y1:212.5625,x2:69,y2:200.5625,x:69,y:200.5625},{x1:69,y1:200.5625,x2:99,y2:274.5625,x:99,y:274.5625},{x1:99,y1:274.5625,x2:76,y2:283.5625,x:76,y:283.5625},{x1:76,y1:283.5625,x2:47,y2:212.5625,x:47,y:212.5625}],stroke:"gray",strokeWidth:"0",type:"polygon",x:48,y:212.5625},{fill:"rgba(220, 134, 0, 1)",closed:!0,rotate:0,moveX:71,moveY:183.5625,path:[{x1:71,y1:183.5625,x2:80,y2:178.5625,x:80,y:178.5625},{x1:80,y1:178.5625,x2:114,y2:275.5625,x:114,y:275.5625},{x1:114,y1:275.5625,x2:106,y2:278.5625,x:106,y:278.5625},{x1:106,y1:278.5625,x2:71,y2:183.5625,x:71,y:183.5625}],stroke:"gray",strokeWidth:"0",type:"polygon",x:71,y:183.5625},{fill:"rgba(111, 134, 124, 1)",closed:!0,rotate:0,moveX:77,moveY:314.5625,path:[{x1:77,y1:314.5625,x2:181,y2:256.5625,x:181,y:256.5625},{x1:181,y1:256.5625,x2:208,y2:307.5625,x:208,y:307.5625},{x1:208,y1:307.5625,x2:106,y2:365.5625,x:106,y:365.5625},{x1:106,y1:365.5625,x2:77,y2:314.5625,x:77,y:314.5625}],stroke:"gray",strokeWidth:"0",type:"polygon",x:77,y:314.5625},{fill:"rgba(111, 134, 124, 1)",closed:!0,rotate:0,moveX:178,moveY:385.5625,path:[{x1:178,y1:385.5625,x2:197,y2:377.5625,x:197,y:377.5625},{x1:197,y1:377.5625,x2:202,y2:387.5625,x:202,y:387.5625},{x1:202,y1:387.5625,x2:183,y2:397.5625,x:183,y:397.5625},{x1:183,y1:397.5625,x2:178,y2:385.5625,x:178,y:385.5625}],stroke:"gray",strokeWidth:"0",type:"polygon",x:176,y:381.5625},{fill:"rgba(163, 172, 127, 1)",closed:!0,rotate:0,moveX:96,moveY:6.5625,path:[{x1:96,y1:6.5625,x2:96,y2:70.5625,x:96,y:70.5625},{x1:96,y1:70.5625,x2:104,y2:70.5625,x:104,y:70.5625},{x1:104,y1:70.5625,x2:106,y2:8.5625,x:106,y:8.5625},{x1:106,y1:8.5625,x2:96,y2:6.5625,x:96,y:6.5625}],stroke:"gray",strokeWidth:"0",type:"polygon",x:96,y:6.5625},{fill:"rgba(163, 172, 127, 1)",closed:!0,rotate:0,moveX:70,moveY:39.5625,path:[{x1:70,y1:39.5625,x2:124,y2:32.5625,x:124,y:32.5625},{x1:124,y1:32.5625,x2:124,y2:43.5625,x:124,y:43.5625},{x1:124,y1:43.5625,x2:72,y2:49.5625,x:72,y:49.5625},{x1:72,y1:49.5625,x2:70,y2:39.5625,x:70,y:39.5625}],stroke:"gray",strokeWidth:"0",type:"polygon",x:70,y:39.5625},{fill:"rgba(69, 69, 41, 1)",closed:!0,rotate:0,moveX:87,moveY:53.5625,path:[{x1:87,y1:53.5625,x2:116,y2:49.5625,x:116,y:49.5625},{x1:116,y1:49.5625,x2:118,y2:59.5625,x:118,y:59.5625},{x1:118,y1:59.5625,x2:89,y2:63.5625,x:89,y:63.5625},{x1:89,y1:63.5625,x2:87,y2:53.5625,x:87,y:53.5625}],stroke:"gray",strokeWidth:"0",type:"polygon",x:86,y:51.5625},{fill:"rgba(206, 67, 0, 1)",closed:!0,rotate:0,moveX:123,moveY:168.5625,path:[{x1:123,y1:168.5625,x2:349,y2:36.5625,x:349,y:36.5625},{x1:349,y1:36.5625,x2:349,y2:50.5625,x:349,y:50.5625},{x1:349,y1:50.5625,x2:136,y2:193.5625,x:136,y:193.5625},{x1:136,y1:193.5625,x2:123,y2:168.5625,x:123,y:168.5625}],stroke:"gray",strokeWidth:"0",type:"polygon",x:123,y:168.5625},{fill:"rgba(0, 0, 0, 1)",closed:!0,rotate:0,moveX:135,moveY:120.5625,path:[{x1:135,y1:120.5625,x2:154,y2:112.5625,x:154,y:112.5625},{x1:154,y1:112.5625,x2:203,y2:216.5625,x:203,y:216.5625},{x1:203,y1:216.5625,x2:184,y2:226.5625,x:184,y:226.5625},{x1:184,y1:226.5625,x2:135,y2:120.5625,x:135,y:120.5625}],stroke:"gray",strokeWidth:"0",type:"polygon",x:135,y:120.5625},{fill:"rgba(133, 34, 8, 1)",closed:!0,rotate:0,moveX:337,moveY:78.5625,path:[{x1:337,y1:78.5625,x2:346,y2:92.5625,x:346,y:92.5625},{x1:346,y1:92.5625,x2:252,y2:183.5625,x:252,y:183.5625},{x1:252,y1:183.5625,x2:236,y2:161.5625,x:236,y:161.5625},{x1:236,y1:161.5625,x2:337,y2:78.5625,x:337,y:78.5625}],stroke:"gray",strokeWidth:"0",type:"polygon",x:337,y:78.5625},{fill:"rgba(0, 0, 0, 1)",closed:!0,rotate:0,moveX:138,moveY:51.5625,path:[{x1:138,y1:51.5625,x2:152,y2:45.5625,x:152,y:45.5625},{x1:152,y1:45.5625,x2:247,y2:246.5625,x:247,y:246.5625},{x1:247,y1:246.5625,x2:226,y2:257.5625,x:226,y:257.5625},{x1:226,y1:257.5625,x2:138,y2:51.5625,x:138,y:51.5625}],stroke:"gray",strokeWidth:"0",type:"polygon",x:138,y:51.5625},{fill:"rgba(0, 0, 0, 1)",closed:!0,rotate:0,moveX:8,moveY:292.5625,path:[{x1:8,y1:292.5625,x2:15,y2:303.5625,x:15,y:303.5625},{x1:15,y1:303.5625,x2:255,y2:135.5625,x:255,y:135.5625},{x1:255,y1:135.5625,x2:252,y2:130.5625,x:252,y:130.5625},{x1:252,y1:130.5625,x2:8,y2:292.5625,x:8,y:292.5625}],stroke:"gray",strokeWidth:"0",type:"polygon",x:8,y:292.5625},{fill:"rgba(0, 0, 0, 1)",closed:!0,rotate:0,moveX:314,moveY:6.5625,path:[{x1:266,y1:49.5625,x2:224,y2:49.5625,x:204,y:69.5625},{x1:169,y1:99.5625,x2:189,y2:152.5625,x:243,y:125.5625},{x1:275,y1:109.5625,x2:288,y2:72.5625,x:307,y:26.5625},{x1:321,y1:-5.4375,x2:314,y2:6.5625,x:314,y:6.5625}],stroke:"gray",strokeWidth:"0",type:"polygon",x:316,y:-7.4375}];t.default=r.a.memo(function(){var e=Object(o.useState)(fe),t=Object(n.a)(e,2),a=t[0],i=t[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Designer"),r.a.createElement(ge,{width:1080,height:520,objects:a,onUpdate:function(e){i(e)}}))})}}]);
//# sourceMappingURL=1.c69cc66f.chunk.js.map