{"version":3,"sources":["Components/Designer/Icon.js","Components/Designer/panels/InsertMenu.js","Components/Designer/SVGRenderer.js","Components/Designer/Handler.js","Components/Designer/constants.js","Components/Designer/actions/index.js","Components/Designer/actions/Scaler.js","Components/Designer/actions/Dragger.js","Components/Designer/actions/Rotator.js","Components/Designer/panels/styles.js","Components/Designer/panels/PropertyGroup.js","Components/Designer/panels/Button.js","Components/Designer/panels/SwitchState.js","Components/Designer/panels/Columns.js","Components/Designer/panels/Column.js","Components/Designer/panels/TextPanel.js","Components/Designer/panels/ArrangePanel.js","Components/Designer/panels/ColorInput.js","Components/Designer/panels/StylePanel.js","Components/Designer/panels/SizePanel.js","Components/Designer/panels/index.js","Components/Designer/panels/ImagePanel.js","Components/Designer/objects/Vector.js","Components/Designer/editors/BezierEditor.js","Components/Designer/objects/Path.js","Components/Designer/objects/Rect.js","Components/Designer/objects/Circle.js","Components/Designer/objects/Text.js","Components/Designer/objects/Image.js","Components/Designer/objects/index.js","Components/Designer/panels/PanelList.js","Components/Designer/Designer.js","Components/Designer/designerObject.js","Components/CustomDesigner/customDesigner.js"],"names":["Icon","this","props","icon","react_default","a","createElement","d","width","height","x","y","rx","ry","r","cx","cy","transform","fill","strokeWidth","stroke","styles","active","verticalAlign","size","viewBox","onClick","preserveAspectRatio","fit","style","Object","objectSpread","renderGraphic","Component","defaultProps","InsertMenu","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","openMenu","setState","menuOpened","closeMenu","hoverTool","type","hoveredTool","unhoverTool","state","_this2","_this$props","currentTool","tools","_this$state","keys","insertMenu","insertMenuHover","onMouseOver","onMouseOut","mainIcon","meta","Icon_Icon","toolBox","map","i","toolBoxItem","currentToolboxItem","onMouseDown","onSelect","bind","key","overflow","background","margin","padding","listStyle","borderBottom","SVGRenderer","objectTypes","object","index","objectRefs","Renderer","getObjectComponent","onRender","ref","_this$props2","objects","svgStyle","canvas","canvasOffsetX","canvasOffsetY","backgroundColor","grid","marginTop","marginLeft","isRoot","renderObject","backgroundSize","backgroundImage","ScaleAnchor","boundingBox","_useState","useState","_useState2","slicedToArray","anchorHovered","setAnchorHovered","anchor","scaleAnchor","className","RotateAnchor","_useState3","_useState4","rotateAnchor","Handler","event","target","classList","contains","onDrag","handlerStyle","handler","left","top","concat","rotate","onMouseLeave","onDoubleClick","canRotate","onRotate","canResize","onResize","position","border","zIndex","borderColor","borderRight","borderTop","borderTopRightRadius","modes","FREE","DRAG","SCALE","ROTATE","DRAW","TYPE","EDIT_OBJECT","scale","_ref","startPoint","mouse","objectX","objectY","clientX","clientY","Math","abs","drag","rotation","atan2","PI","panels_styles","propertyPanel","fontFamily","fontSize","propertyGroup","paddingBottom","paddingTop","paddingLeft","marginBottom","inputHelper","color","inlineInputHelper","display","panelTitle","float","columns","column","marginRight","input","borderWidth","borderRadius","select","WebkitAppearance","MozAppearance","outline","integerInput","textInput","colorInput","colorCover","right","bottom","colorPopover","empty","button","textDecoration","item","cursor","highlightedItem","PropertyGroup","_ref$showIf","showIf","objectWithoutProperties","children","Button","href","e","preventDefault","_len","arguments","length","args","Array","_key","apply","SwitchState","selected","value","defaultValue","newValue","nextState","onChange","Columns","label","Column","TextPanel","fontFamilies","name","family","handleFontFamilyChange","WebFont","load","google","families","sortFonts","f1","f2","toLowerCase","panels_PropertyGroup","_","has","panels_Column","panels_SwitchState","fontWeight","fontStyle","sort","row","paddingRight","text","ArrangePanel","panels_Columns","panels_Button","onArrange","ColorInput","show","toggleVisibility","handleChange","_color$rgb","rgb","g","b","handleClose","lib","StylePanel","panels_ColorInput","radius","blendMode","mode","SizePanel","textPanel","arrangePanel","stylePanel","sizePanel","ImagePanel","acceptedFiles","file","fr","FileReader","setImage","result","onload","readAsDataURL","es","accept","onDrop","multiple","textAlign","activeStyle","getRootProps","getInputProps","Vector","mixBlendMode","centerX","centerY","rest","getTransformMatrix","panels","BezierEditor","offset","moveX","moveY","path","onUpdate","x1","y1","updates","current","toConsumableArray","slice","close","undefined","getCurrentPath","closed","getMouseCoords","snapToInitialVertex","isCollides","updateCurrentPath","x2","y2","closePath","_this$updatePath","movedPathIndex","movedTargetX","movedTargetY","updatePath","defineProperty","xd","yd","wt","tagName","onClose","currentPath","pathIndex","targetX","targetY","offsetX","offsetY","onMouseUp","onMouseMove","edge","moveVertex","vertex","initialVertex","Path","curves","instructions","join","_ref2","assign","getStyle","getObjectAttributes","buildPath","initial","DRAW_PATH","editor","Rect","Circle","Text","get","prototype","dominantBaseline","WebkitUserSelect","_this$getObjectAttrib","restOfAttributes","textAnchor","Image","xlinkHref","rect","circle","image","PanelList","objectComponent","id","Panel","Designer","currentObjectIndex","selectedObjectIndex","selectedTool","keyMap","removeObject","moveLeft","moveRight","moveUp","moveDown","updateHandler","showHandler","getStartPointBundle","Date","getTime","window","performance","now","replace","c","random","floor","toString","resetSelection","uuid","generateUUID","diffX","diffY","newPath","objectIndex","changes","newObject","parent","svgElement","getBoundingClientRect","_this$getCanvas","getCanvas","canvasWidth","canvasHeight","bundle","getOffset","bbox","_this$getCanvas2","snapToGrid","_ref3","coords","applyOffset","snapCoordinates","_map","_this$state2","actions","action","updateObject","detectOverlappedObjects","_this3","refs","currentRect","filter","forEach","Number","includes","currentObject","_this$props3","_this$props4","_this$props4$canvasWi","_this$props4$canvasHe","_this4","_this$props5","console","log","Designer_SVGRenderer","tool","arrange","_this5","arrangers","front","back","_arranger","arranger","_arranger2","arranged","newIndex","_this6","attr","points","startsWith","_this7","handlers","removeCurrent","moveSelectedObject","mapValues","objectWithInitial","ObjectEditor","_this8","_this$state3","_this$props6","InsertMenuComponent","isEditMode","showPropertyPanel","_this$getCanvas3","index_es","keyboardManager","getKeymapHandlers","container","stopDrag","selectTool","canvasContainer","Designer_Handler","hideHandler","showEditor","startDrag","renderSVG","panels_PanelList","handleArrange","handleObjectChange","rectangle","polygon","flexDirection","objectInit","React","memo","setobjects","Fragment","Components_Designer_Designer"],"mappings":"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","file":"static/js/1.c69cc66f.chunk.js","sourcesContent":["import React, {Component} from 'react';\n\nexport default class Icon extends Component {\n  static defaultProps = {\n    size: 16\n  };\n\n  renderGraphic() {\n    switch (this.props.icon) {\n      case 'image':\n        return (\n          <g><path d=\"M21 19v-14c0-1.1-.9-2-2-2h-14c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zm-12.5-5.5l2.5 3.01 3.5-4.51 4.5 6h-14l3.5-4.5z\"></path></g>\n        );\n      case 'my-icon':\n        return (\n          <g><path d=\"M7.41 7.84l4.59 4.58 4.59-4.58 1.41 1.41-6 6-6-6z\"/></g>\n        );\n      case 'another-icon':\n        return (\n          <g><path d=\"M7.41 15.41l4.59-4.58 4.59 4.58 1.41-1.41-6-6-6 6z\"/></g>\n        );\n      case 'format-bold':\n        return (\n          <g><path d=\"M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4h-6.25v14h7.04c2.09\n          0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42zm-5.6-4.29h3c.83 0 1.5.67 1.5 1.5s-.67\n          1.5-1.5 1.5h-3v-3zm3.5 9h-3.5v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5z\"></path></g>\n        );\n      case 'format-italic':\n        return (\n          <g><path d=\"M10 4v3h2.21l-3.42 8h-2.79v3h8v-3h-2.21l3.42-8h2.79v-3z\"></path></g>\n        );\n      case 'format-underline':\n        return (\n          <g><path d=\"M12 17c3.31 0 6-2.69 6-6v-8h-2.5v8c0 1.93-1.57 3.5-3.5\n          3.5s-3.5-1.57-3.5-3.5v-8h-2.5v8c0 3.31 2.69 6 6 6zm-7 2v2h14v-2h-14z\"></path></g>\n        );\n      case 'format-align-left':\n        return (\n          <g><path d=\"M15 15h-12v2h12v-2zm0-8h-12v2h12v-2zm-12\n          6h18v-2h-18v2zm0 8h18v-2h-18v2zm0-18v2h18v-2h-18z\"></path></g>\n        );\n      case 'format-align-center':\n        return (\n          <g><path d=\"M7 15v2h10v-2h-10zm-4 6h18v-2h-18v2zm0-8h18v-2h-18v2zm4-6v2h10v-2h-10zm-4-4v2h18v-2h-18z\"></path></g>\n        );\n      case 'format-align-right':\n        return (\n          <g><path d=\"M3 21h18v-2h-18v2zm6-4h12v-2h-12v2zm-6-4h18v-2h-18v2zm6-4h12v-2h-12v2zm-6-6v2h18v-2h-18z\"></path></g>\n        );\n      case 'add-box':\n        return (\n          <g><path d=\"M19 3h-14c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-14c0-1.1-.9-2-2-2zm-2\n          10h-4v4h-2v-4h-4v-2h4v-4h2v4h4v2z\"></path></g>\n        );\n      case 'add':\n        return (\n          <g><path d=\"M19 13h-6v6h-2v-6h-6v-2h6v-6h2v6h6v2z\"></path></g>\n        );\n      case 'text-format':\n        return (\n          <g><path d=\"M5 17v2h14v-2h-14zm4.5-4.2h5l.9 2.2h2.1l-4.75-11h-1.5l-4.75\n          11h2.1l.9-2.2zm2.5-6.82l1.87 5.02h-3.74l1.87-5.02z\"></path></g>\n        );\n      case 'text':\n        return (\n          <g><path d=\"M5 17v2h14v-2h-14zm4.5-4.2h5l.9 2.2h2.1l-4.75-11h-1.5l-4.75\n           11h2.1l.9-2.2zm2.5-6.82l1.87 5.02h-3.74l1.87-5.02z\"></path></g>\n        );\n      case 'rectangle':\n        return (\n          <rect width={14} height={14} x={4} y={5} rx={3} ry={3} />\n        );\n      case 'circle':\n        return (\n          <circle r={8} cx={11} cy={12} />\n        );\n      case 'polygon':\n        return (\n          <g transform={\"scale(0.034) translate(100 25)\"}>\n            <path d=\"M477.043,219.205L378.575,48.677c-7.974-13.802-22.683-22.292-38.607-22.292H143.041c-15.923,\n                    0-30.628,8.49-38.608,22.292 L5.971,219.205c-7.961,13.801-7.961,30.785,0,44.588l98.462,\n                    170.543c7.98,13.802,22.685,22.293,38.608,22.293h196.926 c15.925,0,30.634-8.491,\n                    38.607-22.293l98.469-170.543C485.003,249.99,485.003,233.006,477.043,219.205z\"/>\n          </g>\n          );\n      case 'rotate':\n        return (\n          <g><path d=\"M18.4 10.6c-1.85-1.61-4.25-2.6-6.9-2.6-4.65 0-8.58 3.03-9.96\n           7.22l2.36.78c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88l-3.62\n           3.62h9v-9l-3.6 3.6z\"></path></g>\n        );\n      case 'send-to-back':\n        return (\n          <g>\n            <rect x={7} y={7} width={13} height={13} fill=\"#ababab\" strokeWidth={1} stroke=\"black\" />\n            <rect x={1} y={1} width={13} height={13} fill=\"white\" stroke=\"black\" strokeWidth={1} />\n          </g>\n        );\n      case 'bring-to-front':\n        return (\n          <g>\n            <rect x={7} y={7} width={13} height={13} fill=\"white\" strokeWidth={1} stroke=\"black\" />\n            <rect x={1} y={1} width={13} height={13} fill=\"#ababab\" stroke=\"black\" strokeWidth={1} />\n          </g>\n        );\n    }\n  }\n  render() {\n    let styles = {\n      fill: this.props.active? \"black\": \"#b5b5b5\",\n      verticalAlign: \"middle\",\n      width: this.props.size,\n      height: this.props.size\n    };\n    return (\n      <svg viewBox=\"0 0 24 24\"\n        onClick={this.props.onClick}\n        preserveAspectRatio=\"xMidYMid meet\" fit\n        style={{...styles, ...this.props.style}}>\n          {this.renderGraphic()}\n      </svg>\n    );\n  }\n};\n","import React, { Component } from 'react';\n// import ReactDOM from 'react-dom';\n// import classNames from 'classnames';\nimport Icon from '../Icon';\n\nclass InsertMenu extends Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      menuOpened: false,\n      hoveredTool: null\n    }\n  }\n\n  openMenu = () => {\n    this.setState({menuOpened: true})\n  }\n\n  closeMenu = () => {\n    this.setState({menuOpened: false})\n  }\n\n  hoverTool = type => {\n    this.setState({hoveredTool: type})\n  }\n\n  unhoverTool = type => {\n    if (this.state.hoveredTool === type) {\n      this.setState({hoveredTool: null})\n    }\n  }\n\n  render() {\n    let {currentTool, tools} = this.props;\n    let {menuOpened, hoveredTool} = this.state;\n    let keys = Object.keys(tools);\n\n    return (\n      <div style={{\n          ...styles.insertMenu,\n          ...menuOpened ? styles.insertMenuHover : {}\n        }}\n        onMouseOver={this.openMenu}\n        onMouseOut={this.closeMenu}\n      >\n        <div style={styles.mainIcon}>\n        {currentTool\n          ? tools[currentTool].meta.icon\n          : <Icon icon={\"add\"} size={30} />}\n        </div>\n        <ul style={styles.toolBox}>\n          {keys.map((type, i) => (\n            <li style={{\n                  ...styles.toolBoxItem,\n                  ...currentTool === type ? styles.currentToolboxItem : {},\n                  ...hoveredTool === type ? styles.currentToolboxItem : {}\n                }}\n                onMouseOver={() => this.hoverTool(type)}\n                onMouseOut={() => this.unhoverTool(type)}\n                onMouseDown={this.props.onSelect.bind(this, type)}\n                key={i}>\n              {tools[type].meta.icon}\n            </li>\n          ))}\n        </ul>\n      </div>\n    );\n  }\n}\n\nconst styles = {\n  insertMenu: {\n    height: 40,\n    width: 40,\n    overflow: 'hidden',\n  },\n  insertMenuHover: {\n    background: '#eeeff5',\n    height: 'auto',\n  },\n  toolBox: {\n    margin: 0,\n    padding: 0,\n  },\n  toolBoxItem: {\n    listStyle: \"none\",\n    padding: \"5px 5px\"\n  },\n  currentToolboxItem: {\n    background: \"#ebebeb\"\n  },\n  mainIcon: {\n    padding: \"10px 5px\",\n    borderBottom: \"1px solid #e0e0e0\"\n  }\n\n};\n\nexport default InsertMenu;\n","import React, {Component} from 'react';\n\nclass SVGRenderer extends Component {\n  static defaultProps = {\n    onMouseOver() {}\n  };\n\n  getObjectComponent(type) {\n    let {objectTypes} = this.props;\n    return objectTypes[type];\n  }\n\n  renderObject(object, index) {\n    let {objectRefs, onMouseOver} = this.props;\n    let Renderer = this.getObjectComponent(object.type);\n    return (\n      <Renderer onRender={(ref) => objectRefs[index] = ref}\n        onMouseOver={onMouseOver.bind(this, index)}\n        object={object}  key={index} index={index} />\n      );\n  }\n\n  render() {\n    let {background, objects, svgStyle, canvas,\n         onMouseDown, onRender} = this.props;\n    let {width, height, canvasOffsetX, canvasOffsetY} = canvas;\n\n    let style = {\n      ...styles.canvas,\n      ...background ? {\n        backgroundColor: background\n      }: styles.grid,\n      ...{\n        ...svgStyle,\n        marginTop: canvasOffsetY,\n        marginLeft: canvasOffsetX\n      }\n    };\n\n    return (\n      <svg onMouseDown={onMouseDown}\n         ref={onRender}\n         width={width}\n         height={height}\n         style={style}\n         isRoot={true}\n         >\n        {objects.map(this.renderObject.bind(this))}\n      </svg>\n    );\n  }\n}\n\nexport const styles = {\n  canvas: {\n    backgroundSize: 400\n  },\n  grid: {\n    backgroundImage: 'url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5'\n      + 'vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+CjxyZWN0IHdpZHRoPSIyMCIgaGVpZ2h0'\n      + 'PSIyMCIgZmlsbD0iI2ZmZiI+PC9yZWN0Pgo8cmVjdCB3aWR0aD0iMTAiIGhlaWdodD0iMTAiIGZpbGw9I'\n      + 'iNGN0Y3RjciPjwvcmVjdD4KPHJlY3QgeD0iMTAiIHk9IjEwIiB3aWR0aD0iMTAiIGhlaWdodD0iMTAiIG'\n      + 'ZpbGw9IiNGN0Y3RjciPjwvcmVjdD4KPC9zdmc+)',\n    backgroundSize: \"auto\"\n  }\n};\n\nexport default SVGRenderer;\n","import React, { Component, useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport Icon from './Icon';\n\nfunction ScaleAnchor(props) {\n  let {boundingBox} = props;\n  let style = {\n    marginTop: boundingBox.height + 5,\n    marginLeft: boundingBox.width + 5\n  };\n  let [anchorHovered, setAnchorHovered] = useState(false);\n  return (\n    <div style={{...styles.anchor,\n                 ...anchorHovered ? styles.anchorHovered : {},\n                 ...styles.scaleAnchor,\n                 ...style}}\n         className={'resize-anchor'}\n         onMouseOver={() => setAnchorHovered(true)}\n         onMouseOut={() => setAnchorHovered(false)}\n         onMouseDown={props.onMouseDown} />\n  );\n};\n\nfunction RotateAnchor(props) {\n  let style = {\n    marginLeft: props.boundingBox.width + 5\n  };\n  let [anchorHovered, setAnchorHovered] = useState(false);\n  return (\n    <div style={{...styles.anchor,\n                 ...anchorHovered ? styles.anchorHovered : {},\n                 ...styles.rotateAnchor,\n                 ...style}}\n         className={'rotate-anchor'}\n         onMouseOver={() => setAnchorHovered(true)}\n         onMouseOut={() => setAnchorHovered(false)}\n         onMouseDown={props.onMouseDown} />\n  )\n};\n\nclass Handler extends Component {\n  onMouseDown(event) {\n    // event.preventDefault();\n\n    if (event.target.classList.contains('handler')) {\n      this.props.onDrag(event);\n    }\n  }\n\n  render() {\n    let {props} = this;\n    let {boundingBox} = props;\n\n    let handlerStyle = {\n      ...styles.handler,\n      ...boundingBox,\n      width: boundingBox.width + 10,\n      height: boundingBox.height + 10,\n      left: boundingBox.left - 5,\n      top: boundingBox.top - 5,\n      transform: `rotate(${boundingBox.rotate}deg)`\n    };\n\n    return (\n      <div className={'handler'}\n        style={handlerStyle}\n        onMouseLeave={props.onMouseLeave}\n        onDoubleClick={props.onDoubleClick}\n        onMouseDown={this.onMouseDown.bind(this)}>\n          {props.canRotate &&\n            <RotateAnchor onMouseDown={props.onRotate}\n                          boundingBox={boundingBox} />}\n          {props.canResize &&\n            <ScaleAnchor onMouseDown={props.onResize}\n                         boundingBox={boundingBox} />}\n      </div>\n    );\n  }\n}\n\nconst styles = {\n  handler: {\n    'position': 'absolute',\n    'border': '2px solid #dedede',\n    'zIndex': 999999\n  },\n  anchor: {\n    'width': 10,\n    'height': 10\n  },\n  anchorHovered: {\n    'borderColor': 'gray'\n  },\n  scaleAnchor: {\n    'marginTop': -3,\n    'borderRight': '2px solid #dedede',\n    'borderBottom': '2px solid #dedede',\n    'position': 'absolute',\n    'zIndex': -1\n  },\n  rotateAnchor: {\n    'marginTop': -8,\n    'borderRight': '2px solid #dedede',\n    'borderTop': '2px solid #dedede',\n    'position': 'absolute',\n    'borderTopRightRadius': 3,\n    'zIndex': -1\n  }\n};\n\nexport default Handler;\n","const FREE = 0;\nconst DRAG = 1;\nconst SCALE = 2;\nconst ROTATE = 3;\nconst DRAW = 4;\nconst TYPE = 5;\nconst EDIT_OBJECT = 6;\n\nexport const modes = {\n  FREE,\n  DRAG,\n  SCALE,\n  ROTATE,\n  DRAW,\n  TYPE,\n  EDIT_OBJECT\n};\n\n","import Scale from './Scaler';\nimport Drag from './Dragger';\nimport Rotate from './Rotator';\n\nexport const scale = Scale\nexport const drag = Drag\nexport const rotate = Rotate","export default ({object, startPoint, mouse}) => {\n  let {objectX, objectY, clientX, clientY} = startPoint;\n  let width = startPoint.width + mouse.x - clientX;\n  let height = startPoint.height + mouse.y - clientY;\n\n  return {\n    ...object,\n    x: width > 0 ? objectX: objectX + width,\n    y: height > 0 ? objectY: objectY + height,\n    width: Math.abs(width),\n    height: Math.abs(height)\n  };\n};","export default ({object, startPoint, mouse}) => {\n  return {\n    ...object,\n    x: mouse.x - (startPoint.clientX - startPoint.objectX),\n    y: mouse.y - (startPoint.clientY - startPoint.objectY)\n  };\n};\n","export default ({object, startPoint, mouse}) => {\n  let angle = Math.atan2(\n    startPoint.objectX + (object.width || 0) / 2 - mouse.x,\n    startPoint.objectY + (object.height || 0) / 2 - mouse.y\n  );\n\n  let asDegree = angle * 180 / Math.PI;\n  let rotation = (asDegree + 45) * -1;\n\n  return {\n    ...object,\n    rotate: rotation\n  };\n};\n","export default {\n  propertyPanel: {\n    position: 'relative',\n    width: 240,\n    padding: '0 5px 6px 5px',\n    fontFamily: '\"Lucida Grande\", sans-serif',\n    fontSize: 11\n  },\n  propertyGroup: {\n    backgroundColor: '#f1f1f1',\n    overflow: 'hidden',\n    paddingBottom: 12,\n    paddingTop: 2,\n    paddingLeft: 10,\n    border: '0px solid #d3d3d3',\n    marginBottom: 5\n  },\n  inputHelper: {\n    fontSize: 9,\n    color: '#d2d2d2',\n    paddingTop: 2,\n    paddingLeft: 5\n  },\n  inlineInputHelper: {\n    fontSize: 9,\n    display: 'inline-block',\n    marginLeft: 10\n  },\n  panelTitle: {\n    float: 'left',\n    width: 60,\n    padding: 3,\n    color: '#b8b8b8'\n  },\n  columns: {\n    overflow: 'hidden',\n    marginTop: 10\n  },\n  column: {\n    float: 'left',\n    marginRight: 5\n  },\n  input: {\n    background: '#e1e1e1',\n    borderWidth: 0,\n    padding: '3px 5px',\n    color: 'gray',\n    borderRadius: 3,\n  },\n  select: {\n    WebkitAppearance: 'none',\n    MozAppearance: 'none',\n    borderWidth: 0,\n    padding: '3px 3px 3px 5px',\n    outline: 'none',\n    borderRadius: 0,\n    borderRight: '3px solid #b7b7b7',\n    color: 'gray',\n    width: 75\n  },\n  integerInput: {\n    width: 50,\n    outline: 'none'\n  },\n  textInput: {\n    marginTop: 2,\n    outline: 'none',\n    width: '100%',\n    padding: 3,\n  },\n  colorInput: {\n    width: 18,\n    height: 18,\n    borderRadius: '50%',\n    display: 'inline-block',\n    background: 'white',\n    marginRight: 3,\n  },\n  color: {\n    marginLeft: 2,\n    marginTop: 2,\n    width: 14,\n    height: 14,\n    display: 'inline-block',\n    borderRadius: '50%'\n  },\n  colorCover: {\n    position: 'fixed',\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n  },\n  colorPopover: {\n    position: 'absolute',\n    marginTop: 8,\n    zIndex: 999999\n  },\n  empty: {\n    display: 'none',\n  },\n  button: {\n    color: '#515151',\n    textDecoration: 'none',\n    display: 'block',\n    padding: '2px 0',\n  },\n  item: {\n    padding: '2px 6px',\n    cursor: 'default'\n  },\n\n  highlightedItem: {\n    color: 'white',\n    background: 'hsl(200, 50%, 50%)',\n    padding: '2px 6px',\n    cursor: 'default'\n  },\n};\n","import React, {Component} from 'react';\nimport _ from 'lodash';\nimport Icon from '../Icon';\n\nimport styles from './styles';\n\nconst PropertyGroup = ({showIf=true, ...props}) => {\n  if (!showIf) {\n    return <div style={styles.empty} />;\n  }\n  return (\n    <div style={styles.propertyGroup}>\n      {props.children}\n    </div>\n  );\n};\n\nexport default PropertyGroup;\n","import React, {Component} from 'react';\nimport _ from 'lodash';\nimport Icon from '../Icon';\n\nimport styles from './styles';\n\nconst Button = ({onClick, ...props}) => {\n  let _onClick = (e, ...args) => {\n    e.preventDefault();\n    onClick(...args);\n  }\n  return (\n    <a href=\"#\" style={styles.button} onClick={_onClick}>\n      {props.children}\n    </a>\n  );\n}\n\nexport default Button;\n","import React, {Component} from 'react';\nimport _ from 'lodash';\nimport Icon from '../Icon';\n\nconst SwitchState = (props) => {\n  let selected = props.value !== props.defaultValue;\n  let newValue = selected? props.defaultValue: props.nextState;\n  return (\n    <Icon icon={props.icon} active={selected}\n          onClick={() => props.onChange(newValue)} />\n  );\n}\n\nexport default SwitchState;\n","import React, {Component} from 'react';\nimport _ from 'lodash';\nimport Icon from '../Icon';\n\nimport styles from './styles';\n\nconst Columns = ({showIf=true, ...props}) => {\n  if (!showIf) {\n    return <div style={styles.empty} />;\n  }\n  return (\n    <div style={styles.columns}>\n      <div style={styles.panelTitle}>{props.label}</div>\n      {props.children}\n    </div>\n  )\n};\n\nexport default Columns;\n","import React, {Component} from 'react';\nimport _ from 'lodash';\nimport Icon from '../Icon';\n\nimport styles from './styles';\n\nconst Column = ({showIf=true, ...props}) => {\n  if (!showIf) {\n    return <div style={styles.empty} />;\n  }\n\n  return (\n    <div style={{...styles.column, ...props.style}}>\n      {props.children ||\n        <input style={{...styles.input, ...styles.integerInput}} value={props.value}\n               onChange={(e) => props.onChange(e.target.value)} />\n      }\n      {props.label &&\n        <div style={styles.inputHelper}>{props.label}</div>}\n    </div>\n  );\n};\n\nexport default Column;\n","import React, {Component} from 'react';\nimport _ from 'lodash';\n\nimport Icon from '../Icon';\n\nimport styles from './styles';\nimport PropertyGroup from './PropertyGroup';\nimport Button from './Button';\nimport SwitchState from './SwitchState';\nimport Columns from './Columns';\nimport Column from './Column';\nimport WebFont from 'webfontloader';\n\nexport default class TextPanel extends Component {\n  fontFamilies = [\n    {name: 'Alegreya Sans', family: 'Alegreya Sans'},\n    {name: 'Alegreya', family: 'Alegreya'},\n    {name: 'American Typewriter', family:'AmericanTypewriter, Georgia, serif'},\n    {name: 'Anonymous Pro', family: 'Anonymous Pro'},\n    {name: 'Archivo Narrow', family: 'Archivo Narrow'},\n    {name: 'Arvo', family: 'Arvo'},\n    {name: 'Bitter', family: 'Bitter'},\n    {name: 'Cardo', family: 'Cardo'},\n    {name: 'Chivo', family: 'Chivo'},\n    {name: 'Crimson Text', family: 'Crimson Text'},\n    {name: 'Domine', family: 'Domine'},\n    {name: 'Fira Sans', family: 'Fira Sans'},\n    {name: 'Georgia', family:'Georgia, serif'},\n    {name: 'Helvetica Neue', family:'\"Helvetica Neue\", Arial, sans-serif'},\n    {name: 'Helvetica', family:'Helvetica, Arial, sans-serif'},\n    {name: 'Inconsolata', family: 'Inconsolata'},\n    {name: 'Karla', family: 'Karla'},\n    {name: 'Lato', family: 'Lato'},\n    {name: 'Libre Baskerville', family: 'Libre Baskerville'},\n    {name: 'Lora', family: 'Lora'},\n    {name: 'Merriweather', family: 'Merriweather'},\n    {name: 'Monaco', family:'Monaco, consolas, monospace'},\n    {name: 'Montserrat', family:'Montserrat'},\n    {name: 'Neuton', family:'Neuton'},\n    {name: 'Old Standard TT', family: 'Old Standard TT'},\n    {name: 'Open Sans', family: 'Open Sans'},\n    {name: 'PT Serif', family: 'PT Serif'},\n    {name: 'Playfair Display', family: 'Playfair Display'},\n    {name: 'Poppins', family: 'Poppins'},\n    {name: 'Roboto Slab', family: 'Roboto Slab'},\n    {name: 'Roboto', family: 'Roboto'},\n    {name: 'Source Pro', family: 'Source Pro'},\n    {name: 'Source Sans Pro', family: 'Source Sans Pro'},\n    {name: 'Varela Round', family:'Varela Round'},\n    {name: 'Work Sans', family: 'Work Sans'},\n  ];\n\n  handleFontFamilyChange = e => {\n    const value = e.target.value\n    WebFont.load({\n      google: {\n        families: [value]\n      }\n    });\n    this.props.onChange('fontFamily', value)\n  }\n\n  sortFonts = (f1, f2) => f1.name.toLowerCase() > f2.name.toLowerCase() ? 1 : f1.name.toLowerCase() < f2.name.toLowerCase() ? -1 : 0\n\n  render() {\n    let {object} = this.props;\n    return (\n      <PropertyGroup showIf={_.has(object, 'text')}>\n          <div style={styles.columns}>\n            <Column style={{\"float\": \"right\", \"marginRight\": 15}}>\n              {_.has(object, 'fontWeight') &&\n                <SwitchState icon=\"format-bold\"\n                  defaultValue={'normal'}\n                  nextState={'bold'}\n                  value={object.fontWeight}\n                  onChange={this.props.onChange.bind(this, 'fontWeight')} />}\n              {_.has(object, 'fontStyle') &&\n                <SwitchState icon=\"format-italic\"\n                  defaultValue={'normal'}\n                  nextState={'italic'}\n                  value={object.fontStyle}\n                  onChange={this.props.onChange.bind(this, 'fontStyle')} />}\n              {_.has(object, 'textDecoration') &&\n                <SwitchState icon=\"format-underline\"\n                  defaultValue={'none'}\n                  nextState={'underline'}\n                  value={object.textDecoration}\n                  onChange={this.props.onChange.bind(this, 'textDecoration')} />}\n            </Column>\n            <Column style={{\"float\": \"right\"}}>\n              {_.has(object, 'fontSize') &&\n                <input style={{...styles.input, ...styles.integerInput, width: 35}}\n                       value={object.fontSize}\n                       onChange={(e) => this.props.onChange('fontSize', e.target.value)} />}\n            </Column>\n            <Column style={{\"float\": \"right\", marginRight: 10}}>\n              <select style={styles.select}\n                      value={object.fontFamily}\n                      onChange={this.handleFontFamilyChange}>\n                {this.fontFamilies.sort(this.sortFonts).map(({name, family}) => (\n                  <option key={family} value={family}>{name}</option>\n                ))}\n              </select>\n            </Column>\n            <div style={{...styles.row, paddingTop: 25, paddingRight: 10}}>\n              <input style={{...styles.input, ...styles.textInput}}\n                     onChange={(e) => this.props.onChange('text', e.target.value)}\n                     value={object.text} />\n            </div>\n          </div>\n        </PropertyGroup>\n    );\n  }\n}\n","import React, {Component} from 'react';\nimport _ from 'lodash';\n\nimport styles from './styles';\nimport Icon from '../Icon';\nimport PropertyGroup from './PropertyGroup';\nimport Button from './Button';\nimport SwitchState from './SwitchState';\nimport Columns from './Columns';\nimport Column from './Column';\n\nexport default class ArrangePanel extends Component {\n  render() {\n    let {object} = this.props;\n    return (\n      <PropertyGroup>\n          <Columns label=\"Arrange\">\n            <Column>\n              <Button onClick={this.props.onArrange.bind(this, 'back')}>\n                <Icon icon=\"send-to-back\" />\n                <span>send to back</span>\n              </Button>\n              <Button onClick={this.props.onArrange.bind(this, 'front')}>\n                <Icon icon=\"bring-to-front\" />\n                <span>bring to front</span>\n              </Button>\n            </Column>\n          </Columns>\n        </PropertyGroup>\n    );\n  }\n}\n","import React, {Component} from 'react';\nimport { SketchPicker } from 'react-color';\nimport _ from 'lodash';\nimport Icon from '../Icon';\n\nimport styles from './styles';\n\nclass ColorInput extends Component {\n  state = {\n    show: false\n  };\n\n  toggleVisibility = (event) => {\n    if (event.preventDefault) {\n      event.preventDefault();\n    }\n\n    let {show} = this.state;\n    this.setState({\n      show: !show\n    })\n  }\n\n  handleChange = (color) => {\n    let {r, g, b, a} = color.rgb;\n    this.props.onChange(`rgba(${r}, ${g}, ${b}, ${a})`);\n  }\n\n  handleClose = (event) => {\n    if (event.preventDefault) {\n      event.preventDefault();\n    }\n\n    this.setState({\n      show: false\n    })\n  }\n\n  render() {\n    let {show} = this.state;\n    let {value} = this.props;\n\n    return (\n      <div>\n        <a href=\"#\"\n         style={styles.colorInput}\n         onClick={this.toggleVisibility.bind(this)}>\n          <span style={{...styles.color, backgroundColor: value}} />\n         </a>\n         {show && <div style={styles.colorPopover}>\n           <div style={styles.colorCover} onClick={this.handleClose} />\n           <SketchPicker\n             color={value}\n             onChange={this.handleChange}\n             />\n         </div>}\n      </div>\n    );\n  }\n}\n\nexport default ColorInput;\n","import React, {Component} from 'react';\nimport _ from 'lodash';\n\nimport Icon from '../Icon';\n\nimport styles from './styles';\nimport PropertyGroup from './PropertyGroup';\nimport Button from './Button';\nimport SwitchState from './SwitchState';\nimport Columns from './Columns';\nimport Column from './Column';\nimport ColorInput from './ColorInput';\n\nexport default class StylePanel extends Component {\n  modes = [\n    'normal',\n    'multiply',\n    'screen',\n    'overlay',\n    'darken',\n    'lighten',\n    'color-dodge',\n    'color-burn',\n    'hard-light',\n    'soft-light',\n    'difference',\n    'exclusion',\n    'hue',\n    'saturation',\n    'color',\n    'luminosity'\n  ];\n\n  render() {\n    let {object} = this.props;\n    return (\n      <PropertyGroup>\n          <Columns label=\"Fill\" showIf={_.has(object, 'fill')}>\n            <Column>\n              <ColorInput value={object.fill}\n                          onChange={this.props.onChange.bind(this, 'fill')} />\n            </Column>\n          </Columns>\n          <Columns label=\"Stroke\" showIf={_.has(object, 'stroke')}>\n            <Column>\n              <ColorInput value={object.stroke}\n                          onChange={this.props.onChange.bind(this, 'stroke')} />\n            </Column>\n            <Column label=\"width\">\n              <input style={{...styles.input, ...styles.integerInput, width: 30}}\n                     onChange={(e) => this.props.onChange('strokeWidth', e.target.value)}\n                     value={object.strokeWidth} />\n            </Column>\n            <Column showIf={_.has(object, 'radius')} label=\"radius\">\n              <input style={{...styles.input, ...styles.integerInput, width: 30}}\n                     onChange={(e) => this.props.onChange('radius', e.target.value)}\n                     value={object.radius} />\n            </Column>\n          </Columns>\n          <Columns label=\"Blending\">\n            <Column>\n              <select style={styles.select}\n                      value={object.blendMode}\n                      onChange={(e) => this.props.onChange('blendMode', e.target.value)}>\n                {this.modes.map(mode => <option key={mode} value={mode}>{mode}</option>)}\n              </select>\n            </Column>\n          </Columns>\n        </PropertyGroup>\n    );\n  }\n}\n","import React, {Component} from 'react';\nimport _ from 'lodash';\n\nimport Icon from '../Icon';\n\nimport styles from './styles';\nimport PropertyGroup from './PropertyGroup';\nimport Button from './Button';\nimport SwitchState from './SwitchState';\nimport Columns from './Columns';\nimport Column from './Column';\n\nexport default class SizePanel extends Component {\n  render() {\n    let {object} = this.props;\n    return (\n      <PropertyGroup object={object}>\n        {_.has(object, 'width', 'height') && <Columns label=\"Size\">\n          <Column showIf={_.has(object, 'width')}\n                  label=\"width\" value={object.width}\n                  onChange={this.props.onChange.bind(this, 'width')} />\n          <Column showIf={_.has(object, 'height')} label=\"height\"\n                  value={object.height}\n                  onChange={this.props.onChange.bind(this, 'height')} />\n        </Columns>}\n        <Columns label=\"Position\">\n          <Column showIf={_.has(object, 'x')}\n                  label=\"top\" value={object.x}\n                  onChange={this.props.onChange.bind(this, 'x')} />\n          <Column showIf={_.has(object, 'y')} label=\"top\" value={object.y}\n                  onChange={this.props.onChange.bind(this, 'y')} />\n        </Columns>\n        {_.has(object, 'rotate') && <Columns label=\"Rotation\">\n          <Column label=\"angle\" value={object.rotate}\n                  onChange={this.props.onChange.bind(this, 'rotate')} />\n        </Columns>}\n      </PropertyGroup>\n    );\n  }\n}\n","import textPanel from './TextPanel';\nimport arrangePanel from './ArrangePanel';\nimport stylePanel from './StylePanel';\nimport sizePanel from './SizePanel';\nimport insertMenu from './InsertMenu';\nimport imagePanel from './ImagePanel';\n\n\nexport const TextPanel =textPanel\nexport const ArrangePanel = arrangePanel\nexport const StylePanel =stylePanel\nexport const SizePanel =sizePanel\nexport const InsertMenu =insertMenu\nexport const ImagePanel =imagePanel","import React, {Component} from 'react';\nimport _ from 'lodash';\n\nimport Icon from '../Icon';\n\nimport styles from './styles';\nimport PropertyGroup from './PropertyGroup';\nimport Button from './Button';\nimport SwitchState from './SwitchState';\nimport Columns from './Columns';\nimport Column from './Column';\nimport Dropzone from 'react-dropzone';\nimport request from 'superagent';\n\nexport default class ImagePanel extends Component {\n  onDrop (acceptedFiles) {\n    if (acceptedFiles.length == 0) {\n      return;\n    }\n\n    const file = acceptedFiles[0];\n    const fr = new FileReader();\n\n    const setImage = function(e) {\n      this.props.onChange('xlinkHref', e.target.result);\n    }.bind(this);\n    fr.onload = setImage;\n    fr.readAsDataURL(file);\n  }\n\n  render() {\n    const {object} = this.props;\n    return (\n      <PropertyGroup object={object} showIf={_.has(object, 'xlinkHref')}>\n          <Columns label=\"Image\">\n            <Column>\n              <Dropzone\n                  accept=\"image/*\"\n                  onDrop={this.onDrop.bind(this)}\n                  multiple={false}\n                  style={{\n                    float:'left',\n                    marginRight: '3px',\n                    padding: '3px',\n                    border: '1px solid gray',\n                    color: 'gray',\n                    borderRadius: '3px',\n                    width: '100px',\n                    textAlign: 'center',\n                  }}\n                  activeStyle={{\n                    border: '1px solid blue',\n                    backgroundColor: 'white',\n                    color: 'black',\n                  }}\n              >\n                {({getRootProps, getInputProps}) => (\n                    <div {...getRootProps()}>\n                      <input {...getInputProps()} />\n                      <p>Drop new file</p>\n                    </div>\n                )}\n              </Dropzone>\n            </Column>\n          </Columns>\n      </PropertyGroup>\n    );\n  }\n}\n","import React, {Component} from 'react';\nimport {modes} from '../constants';\nimport Icon from '../Icon';\nimport _ from 'lodash';\n\nimport {SizePanel, TextPanel,\n        StylePanel, ArrangePanel, ImagePanel} from '../panels';\n\n\nexport default class Vector extends Component {\n  static panels = [\n    SizePanel,\n    TextPanel,\n    StylePanel,\n    ImagePanel,\n    ArrangePanel\n  ];\n\n  getStyle() {\n    let {object} = this.props;\n    return {\n      mixBlendMode: object.blendMode\n    }\n  }\n\n  getTransformMatrix({rotate, x, y, width, height}) {\n    if (rotate) {\n      let centerX = width / 2 + x;\n      let centerY = height / 2 + y;\n      return `rotate(${rotate} ${centerX} ${centerY})`;\n    }\n  }\n\n  getObjectAttributes() {\n    let {object, onRender, ...rest} = this.props;\n    return {\n      ...object,\n      transform: this.getTransformMatrix(object),\n      ref: onRender,\n      ...rest\n    };\n  }\n}\n","import React, { Component } from 'react';\n\n\nclass BezierEditor extends Component {\n  state = {\n    mode: 'source'\n  };\n\n  getMouseCoords(event) {\n    let {object, offset} = this.props;\n    return {\n      x: event.clientX - offset.x - (object.x - object.moveX),\n      y: event.clientY - offset.y - (object.y - object.moveY)\n    };\n  }\n\n  componentWillMount(props) {\n    let {object} = this.props;\n    if (!object.path.length) {\n      this.props.onUpdate({\n        path: [\n          {x1: object.x, y1: object.y}\n        ],\n        moveX: object.x,\n        moveY: object.y\n      });\n    } else {\n      this.setState({\n        mode: 'edit'\n      });\n    }\n  }\n\n  getCurrentPath() {\n    let {path} = this.props.object;\n    return path[path.length - 1];\n  }\n\n  updatePath(updates, index) {\n    let {path} = this.props.object;\n    let current = path[index];\n\n    this.props.onUpdate({\n      path: [\n        ...path.slice(0, index),\n        {\n          ...current,\n          ...updates\n        },\n        ...path.slice(index + 1)\n      ]\n    });\n  }\n\n  updateCurrentPath(updates, close=false) {\n    let {path} = this.props.object;\n    let current = this.getCurrentPath();\n\n    this.props.onUpdate({\n      closed: close,\n      path: [\n        ...path.slice(0, path.length - 1),\n        {\n          ...current,\n          ...updates\n        }\n      ]\n    });\n  }\n\n  onMouseMove(event) {\n    let {mode} = this.state;\n    let currentPath = this.getCurrentPath();\n    let mouse = this.getMouseCoords(event);\n    let {object} = this.props;\n    let {moveX, moveY} = object;\n    let {x, y} = mouse;\n\n    let snapToInitialVertex = (\n      this.isCollides(moveX, moveY, x, y)\n    );\n\n    if (snapToInitialVertex) {\n      x = moveX;\n      y = moveY;\n    }\n\n    if (mode === 'source') {\n      this.updateCurrentPath({\n        x1: mouse.x,\n        y1: mouse.y\n      });\n    }\n\n    if (mode === 'target') {\n      this.updateCurrentPath({\n        x2: x,\n        y2: y,\n        x: x,\n        y: y\n      })\n    }\n\n    if (mode === 'connect') {\n      this.updateCurrentPath({x, y})\n    }\n\n    if (mode === 'target' || mode === 'connect') {\n      this.setState({\n        closePath: snapToInitialVertex\n      });\n    }\n\n    if (mode === 'move') {\n      let {movedPathIndex,\n           movedTargetX,\n           movedTargetY} = this.state;\n      this.updatePath({\n        [movedTargetX]: x,\n        [movedTargetY]: y\n      }, movedPathIndex);\n    }\n\n    if (mode === 'moveInitial') {\n      this.props.onUpdate({\n        moveX: x,\n        moveY: y\n      });\n    }\n  }\n\n  isCollides(x1, y1, x2, y2, radius=5) {\n    let xd = x1 - x2;\n    let yd = y1 - y2;\n    let wt = radius * 2;\n    return (xd * xd + yd * yd <= wt * wt);\n  }\n\n  onMouseDown(event) {\n    if (this.state.closePath) {\n      return this.closePath();\n    }\n\n    if (event.target.tagName === 'svg') {\n      return this.props.onClose();\n    }\n\n    let {mode} = this.state;\n\n    if (mode === 'target') {\n      this.setState({\n        mode: 'connect'\n      });\n    }\n\n  }\n\n  onMouseUp(event) {\n    let {mode} = this.state;\n    let {path} = this.props.object;\n    let mouse = this.getMouseCoords(event);\n    let currentPath = this.getCurrentPath();\n\n    if (this.state.closePath) {\n      return this.closePath();\n    }\n\n    if (mode === 'source') {\n      this.setState({\n        mode: 'target'\n      });\n    }\n\n    if (mode === 'connect') {\n      this.setState({\n        mode: 'target'\n      });\n      this.props.onUpdate({\n        path: [\n          ...path,\n          {\n            x1: currentPath.x + (currentPath.x - currentPath.x2),\n            y1: currentPath.y + (currentPath.y - currentPath.y2),\n            x2: mouse.x,\n            y2: mouse.y,\n            x: mouse.x,\n            y: mouse.y\n          }\n        ]\n      });\n    }\n\n    if (mode === 'move' || mode === 'moveInitial') {\n      this.setState({\n        mode: 'edit'\n      });\n    }\n  }\n\n  getCurrentPoint(pathIndex) {\n    let {state} = this;\n    let {object} = this.props;\n    if (pathIndex === 0) {\n      return {x: object.moveX, y: object.moveY}\n    } else {\n      let path = state.path[pathIndex - 1];\n      return {x: path.x, y: path.y};\n    }\n  }\n\n  closePath() {\n    this.setState({\n      mode: null\n    });\n\n    this.props.onClose();\n\n    this.updateCurrentPath({\n      x: this.props.object.moveX,\n      y: this.props.object.moveY\n    }, true);\n  }\n\n  moveVertex(pathIndex, targetX, targetY, event) {\n    event.preventDefault();\n\n    if (this.state.mode !== 'edit') {\n      return;\n    }\n\n    let mouse = this.getMouseCoords(event);\n\n    this.setState({\n      mode: 'move',\n      movedPathIndex: pathIndex,\n      movedTargetX: targetX,\n      movedTargetY: targetY\n    });\n  }\n\n  moveInitialVertex(event) {\n    this.setState({\n      mode: 'moveInitial'\n    });\n  }\n\n  render() {\n    let {object, width, height} = this.props;\n    let {path} = object;\n    let {state} = this;\n\n    let {moveX, moveY, x, y} = object;\n\n    let offsetX = x - moveX,\n        offsetY = y - moveY;\n\n    return (\n      <div style={styles.canvas}\n           onMouseUp={this.onMouseUp.bind(this)}\n           onMouseMove={this.onMouseMove.bind(this)}\n           onMouseDown={this.onMouseDown.bind(this)}>\n        <svg style={{width, height}}>\n          <g transform={`translate(${offsetX} ${offsetY})\n                         rotate(${object.rotate} ${object.x} ${object.y})`}>\n            {object.path.map(({x1, y1, x2, y2, x, y}, i) => (\n              <g key={i}>\n                {x2 && y2 && (\n                  <g>\n                    <line x1={x2} y1={y2}\n                      x2={x} y2={y}\n                      style={styles.edge}\n                      onMouseDown={this.moveVertex.bind(this, i, 'x', 'y')}  />\n\n                    <circle r={4} cx={x2} cy={y2}\n                      style={styles.vertex}\n                      onMouseDown={this.moveVertex.bind(this, i, 'x2', 'y2')} />\n\n                    <circle r={4} cx={x} cy={y}\n                      style={styles.vertex}\n                      onMouseDown={this.moveVertex.bind(this, i, 'x', 'y')} />\n                  </g>\n                )}\n                {i === 0 && (\n                  <g>\n                    <line x1={moveX} y1={moveY}\n                      style={styles.edge}\n                      onMouseDown={this.moveVertex.bind(this, i, 'x1', 'y1')}\n                      x2={x1} y2={y1} stroke=\"black\" />\n\n                    <circle style={styles.vertex} r={4} cx={x1} cy={y1}\n                      onMouseDown={this.moveVertex.bind(this, i, 'x1', 'y1')} />\n\n                    <circle r={4} cx={moveX} cy={moveY}\n                      style={{...styles.vertex, ...styles.initialVertex}} />\n                  </g>\n                )}\n              </g>\n            ))}\n          </g>\n        </svg>\n      </div>\n    );\n  }\n}\n\nconst styles = {\n  vertex: {\n    fill: \"#3381ff\",\n    strokeWidth: 0\n  },\n  initialVertex: {\n    fill: \"#ffd760\"\n  },\n  edge: {\n    stroke: \"#b9b9b9\"\n  },\n  canvas: {\n    position: \"absolute\"\n  }\n};\n\nexport default BezierEditor;\n","import React, {Component} from 'react';\nimport {modes} from '../constants';\nimport Icon from '../Icon';\nimport _ from 'lodash';\n\nimport Vector from './Vector';\nimport BezierEditor from '../editors/BezierEditor';\n\nexport default class Path extends Vector {\n  static meta = {\n    initial: {\n      fill: \"#e3e3e3\",\n      closed: false,\n      rotate: 0,\n      moveX: 0,\n      moveY: 0,\n      path: [],\n      stroke: \"gray\",\n      strokeWidth: 1\n    },\n    mode: modes.DRAW_PATH,\n    icon: <Icon icon={'polygon'} size={30} />,\n    editor: BezierEditor\n  };\n\n  buildPath(object) {\n    let {path} = object;\n    \n    let curves = path.map(({x1, y1, x2, y2, x, y}, i) => (\n      `C ${x1} ${y1}, ${x2} ${y2}, ${x} ${y}`\n    ));\n\n    let instructions = [\n      `M ${object.moveX} ${object.moveY}`,\n      ...curves\n    ];\n\n    if (object.closed) {\n      instructions = [\n        ...instructions, 'Z'\n      ];\n    }\n\n    return instructions.join('\\n');\n  }\n\n  getTransformMatrix({rotate, x, y, moveX, moveY}) {\n    return `\n      translate(${x - moveX} ${y - moveY})\n      rotate(${rotate} ${x} ${y})\n    `;\n  }\n\n  render() {\n    let {object} = this.props;\n    let fill = (object.closed ? object.fill\n                              : \"transparent\");\n    return (\n      <path style={this.getStyle(object)}\n         {...this.getObjectAttributes()}\n         d={this.buildPath(object)}\n         fill={fill} />\n    );\n  }\n}\n","import React, {Component} from 'react';\nimport {modes} from '../constants';\nimport Icon from '../Icon';\nimport _ from 'lodash';\n\nimport Vector from './Vector';\n\nexport default class Rect extends Vector {\n  static meta = {\n    icon: <Icon icon={'rectangle'} size={30} />,\n    initial: {\n      width: 5,\n      height: 5,\n      strokeWidth: 0,\n      fill: \"blue\",\n      radius: 0,\n      blendMode: \"normal\",\n      rotate: 0\n    }\n  };\n\n  render() {\n    let {object, index} = this.props;\n    return (\n      <rect style={this.getStyle()}\n         {...this.getObjectAttributes()}\n         rx={object.radius}\n         width={object.width}\n         height={object.height} />\n    );\n  }\n}","import React, {Component} from 'react';\nimport {modes} from '../constants';\nimport Icon from '../Icon';\nimport _ from 'lodash';\n\nimport Vector from './Vector';\n\nexport default class Circle extends Vector {\n  static meta = {\n    icon: <Icon icon={'circle'} size={30} />,\n    initial: {\n      width: 5,\n      height: 5,\n      rotate: 0,\n      fill: \"yellow\",\n      strokeWidth: 0,\n      blendMode: \"normal\"\n    }\n  };\n\n  render() {\n    let {object, index} = this.props;\n    return (\n      <ellipse style={this.getStyle()}\n         {...this.getObjectAttributes()}\n         rx={object.width / 2}\n         ry={object.height / 2}\n         cx={object.x + object.width / 2}\n         cy={object.y + object.height / 2} />\n    );\n  }\n}","import React, {Component} from 'react';\nimport {modes} from '../constants';\nimport Icon from '../Icon';\nimport _ from 'lodash';\n\nimport Vector from './Vector';\nimport WebFont from 'webfontloader';\n\nexport default class Text extends Vector {\n  static meta = {\n    icon: <Icon icon={'text'} size={30} />,\n    initial: {\n      text: \"Type some text...\",\n      rotate: 0,\n      fontWeight: \"normal\",\n      fontStyle: \"normal\",\n      textDecoration: \"none\",\n      fill: \"black\",\n      fontSize: 20,\n      fontFamily: \"Open Sans\"\n    }\n  };\n\n  getStyle() {\n    let {object} = this.props;\n    return {\n      ...super.getStyle(),\n      dominantBaseline: \"central\",\n      fontWeight: object.fontWeight,\n      fontStyle: object.fontStyle,\n      textDecoration: object.textDecoration,\n      mixBlendMode: object.blendMode,\n      WebkitUserSelect: \"none\"\n    };\n  }\n\n  getTransformMatrix({rotate, x, y}) {\n    return `rotate(${rotate} ${x} ${y})`;\n  }\n\n  render() {\n    let {object, index} = this.props;\n    WebFont.load({\n      google: {\n        families: [object.fontFamily]\n      }\n    });\n    const {rotate, ... restOfAttributes} = this.getObjectAttributes()\n    return (\n      <text style={this.getStyle()}\n         {...restOfAttributes}\n         textAnchor=\"right\"\n         fontSize={object.fontSize}\n         fontFamily={object.fontFamily}>\n        {object.text}\n       </text>\n    );\n  }\n}\n","import React, {Component} from 'react';\nimport {modes} from '../constants';\nimport Icon from '../Icon';\nimport _ from 'lodash';\n\nimport Vector from './Vector';\n\nexport default class Image extends Vector {\n  static meta = {\n    icon: <Icon icon={'image'} size={30} />,\n    initial: {\n      width: 100,\n      height: 100,\n      // Just a simple base64-encoded outline\n      xlinkHref: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAYAAADgzO9IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAhSURBVHgBtYmxDQAADII8lv9faBNH4yoJLAi4ppxgMZoPoxQrXYyeEfoAAAAASUVORK5CYII=\"\n    }\n  };\n\n  render() {\n    let {object, index} = this.props;\n    return (\n      <image\n         xlinkHref={object.xlinkHref}\n         {...this.getObjectAttributes()}\n         width={object.width}\n         height={object.height} />\n    );\n  }\n}\n","import vector from './Vector';\nimport path from './Path';\nimport rect from './Rect';\nimport circle from './Circle';\nimport text from './Text';\nimport image from './Image';\n\n\nexport const Vector =vector\nexport const Path =path\nexport const Rect =rect\nexport const Circle =circle\nexport const Text =text\nexport const Image =image","import React, {Component} from 'react';\nimport _ from 'lodash';\nimport { Portal } from 'react-portal';\n\nimport Icon from '../Icon';\n\nimport styles from './styles';\nimport PropertyGroup from './PropertyGroup';\nimport Button from './Button';\nimport SwitchState from './SwitchState';\nimport Columns from './Columns';\nimport Column from './Column';\n\nclass PanelList extends Component {\n  render() {\n    let {object, objectComponent, id} = this.props;\n\n    return (\n      <div style={{...styles.propertyPanel}}>\n        {objectComponent.panels.map((Panel, i) => <Panel key={i} id={id} {...this.props} />)}\n      </div>\n    );\n  }\n};\n\nexport default PanelList;\n","import React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport _ from 'lodash';\nimport {HotKeys} from 'react-hotkeys';\nimport Icon from './Icon';\n\nimport InsertMenu from './panels/InsertMenu';\nimport SVGRenderer from './SVGRenderer';\nimport Handler from './Handler';\nimport {modes} from './constants';\nimport * as actions from './actions';\nimport {Text, Path, Rect, Circle, Image} from './objects';\nimport PanelList from './panels/PanelList';\n\nclass Designer extends Component {\n  static defaultProps = {\n    objectTypes: {\n      'text': Text,\n      'rectangle': Rect,\n      'circle': Circle,\n      'polygon': Path,\n      'image': Image\n    },\n    snapToGrid: 1,\n    svgStyle: {},\n    insertMenu: InsertMenu\n  };\n\n  state = {\n    mode: modes.FREE,\n    handler: {\n      top: 200,\n      left: 200,\n      width: 50,\n      height: 50,\n      rotate: 0\n    },\n    currentObjectIndex: null,\n    selectedObjectIndex: null,\n    selectedTool: null\n  };\n\n  keyMap = {\n    'removeObject': ['del', 'backspace'],\n    'moveLeft': ['left', 'shift+left'],\n    'moveRight': ['right', 'shift+right'],\n    'moveUp': ['up', 'shift+up'],\n    'moveDown': ['down', 'shift+down'],\n    'closePath': ['enter']\n  };\n\n  componentWillMount() {\n    this.objectRefs = {};\n  }\n\n  showHandler(index) {\n    let {mode} = this.state;\n    let {objects} = this.props;\n    let object = objects[index];\n\n    if (mode !== modes.FREE) {\n      return;\n    }\n\n    this.updateHandler(index, object);\n    this.setState({\n      currentObjectIndex: index,\n      showHandler: true\n    });\n  }\n\n  hideHandler() {\n    let {mode} = this.state;\n    if (mode === modes.FREE) {\n      this.setState({\n        showHandler: false\n      });\n    }\n  }\n\n  getStartPointBundle(event, object) {\n    let {currentObjectIndex} = this.state;\n    let {objects} = this.props;\n    let mouse = this.getMouseCoords(event);\n    object = object || objects[currentObjectIndex];\n    return {\n      clientX: mouse.x,\n      clientY: mouse.y,\n      objectX: object.x,\n      objectY: object.y,\n      width: object.width,\n      height: object.height,\n      rotate: object.rotate\n    };\n  }\n\n  startDrag(mode, event) {\n    let {currentObjectIndex} = this.state;\n    this.setState({\n      mode: mode,\n      startPoint: this.getStartPointBundle(event),\n      selectedObjectIndex: currentObjectIndex\n    });\n  }\n\n  resetSelection() {\n    this.setState({\n      selectedObjectIndex: null\n    });\n  }\n\n  generateUUID() {\n      var d = new Date().getTime();\n      if(window.performance && typeof window.performance.now === \"function\"){\n          d += performance.now(); //use high-precision timer if available\n      }\n      var uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n          var r = (d + Math.random()*16)%16 | 0;\n          d = Math.floor(d/16);\n          return (c=='x' ? r : (r&0x3|0x8)).toString(16);\n      });\n      return uuid;\n  }\n\n  newObject(event) {\n    let {mode, selectedTool} = this.state;\n\n    this.resetSelection(event);\n\n    if (mode !== modes.DRAW) {\n      return;\n    }\n\n    let {meta} = this.getObjectComponent(selectedTool);\n    let mouse = this.getMouseCoords(event);\n\n    let {objects, onUpdate} = this.props;\n    let object = {\n      ...meta.initial,\n      type: selectedTool,\n      x: mouse.x,\n      y: mouse.y,\n      uuid: this.generateUUID()\n    };\n\n    onUpdate([...objects, object]);\n\n    this.setState({\n      currentObjectIndex: objects.length,\n      selectedObjectIndex: objects.length,\n      startPoint: this.getStartPointBundle(event, object),\n      mode: meta.editor ? modes.EDIT_OBJECT : modes.SCALE,\n      selectedTool: null\n    });\n\n  }\n\n  updatePath(object) {\n    let {path} = object;\n    let diffX = object.x - object.moveX;\n    let diffY = object.y - object.moveY;\n\n    let newPath = path.map(({x1, y1, x2, y2, x, y}) => ({\n      x1: diffX + x1,\n      y1: diffY + y1,\n      x2: diffX + x2,\n      y2: diffY + y2,\n      x: diffX + x,\n      y: diffY + y\n    }));\n\n    return {\n      ...object,\n      path: newPath,\n      moveX: object.x,\n      moveY: object.y\n    };\n  }\n\n  updateObject(objectIndex, changes, updatePath) {\n    let {objects, onUpdate} = this.props;\n    onUpdate(objects.map((object, index) => {\n      if (index === objectIndex) {\n        let newObject = {\n          ...object,\n          ...changes\n        };\n\n        return updatePath\n                ? this.updatePath(newObject)\n                : newObject;\n      } else {\n        // console.log(\"ID=> \", object.uuid, \"CHANGES :\", JSON.stringify(changes))\n        return object;\n      }\n    }));\n  }\n\n  getOffset() {\n    let parent = this.svgElement.getBoundingClientRect();\n    let {canvasWidth, canvasHeight} = this.getCanvas();\n    return {\n      x: parent.left,\n      y: parent.top,\n      width: canvasWidth,\n      height: canvasHeight\n    };\n  }\n\n  applyOffset(bundle) {\n    let offset = this.getOffset();\n    return {\n      ...bundle,\n      x: bundle.x - offset.x,\n      y: bundle.y - offset.y\n    }\n  }\n\n  updateHandler(index, object) {\n    let target = this.objectRefs[index];\n    let bbox = target.getBoundingClientRect();\n    let {canvasOffsetX, canvasOffsetY} = this.getCanvas();\n\n    let handler = {\n      ...this.state.handler,\n      width: object.width || bbox.width,\n      height: object.height || bbox.height,\n      top: object.y + canvasOffsetY,\n      left: object.x + canvasOffsetX,\n      rotate: object.rotate\n    };\n\n    if (!object.width) {\n      let offset = this.getOffset();\n      handler = {\n        ...handler,\n        left: bbox.left - offset.x,\n        top: bbox.top - offset.y\n      };\n    }\n\n    this.setState({\n      handler: handler\n    });\n  }\n\n  snapCoordinates({x, y}) {\n    let {snapToGrid} = this.props;\n    return {\n      x: x - (x % snapToGrid),\n      y: y - (y % snapToGrid)\n    };\n  }\n\n  getMouseCoords({clientX, clientY}) {\n    let coords = this.applyOffset({\n      x: clientX,\n      y: clientY\n    });\n\n    return this.snapCoordinates(coords);\n  }\n\n  onDrag(event) {\n    let {currentObjectIndex, startPoint, mode} = this.state;\n    let {objects} = this.props;\n    let object = objects[currentObjectIndex];\n    let mouse = this.getMouseCoords(event);\n\n    let {scale, rotate, drag} = actions;\n\n    let map = {\n      [modes.SCALE]: scale,\n      [modes.ROTATE]: rotate,\n      [modes.DRAG]: drag\n    };\n\n    let action = map[mode];\n\n    if (action) {\n      let newObject = action({\n        object,\n        startPoint,\n        mouse,\n        objectIndex: currentObjectIndex,\n        objectRefs: this.objectRefs\n      });\n\n      this.updateObject(currentObjectIndex, newObject);\n      this.updateHandler(currentObjectIndex, newObject);\n    }\n\n    if (currentObjectIndex !== null) {\n      this.detectOverlappedObjects(event);\n    }\n  }\n\n  detectOverlappedObjects(event) {\n    let {currentObjectIndex} = this.state;\n    let {objects} = this.props;\n    let mouse = this.getMouseCoords(event);\n\n    let refs = this.objectRefs,\n        keys = Object.keys(refs),\n        offset = this.getOffset();\n\n    let currentRect = (refs[currentObjectIndex]\n                       .getBoundingClientRect());\n\n    keys.filter(\n      (object, index) => index !== currentObjectIndex\n    ).forEach((key) => {\n      let rect = refs[key].getBoundingClientRect();\n      let {left, top, width, height} = rect;\n\n      left -= offset.x;\n      top -= offset.y;\n\n      let isOverlapped = (\n        mouse.x > left && mouse.x < left + width &&\n        mouse.y > top && mouse.y < top + height &&\n        currentRect.width > width &&\n        currentRect.height > height\n      );\n\n      if (isOverlapped) {\n        this.showHandler(Number(key));\n      }\n    });\n  }\n\n  stopDrag() {\n    let {mode} = this.state;\n\n    if (_.includes([modes.DRAG,\n                    modes.ROTATE,\n                    modes.SCALE], mode)) {\n      this.setState({\n        mode: modes.FREE\n      });\n    }\n  }\n\n  showEditor() {\n    let {selectedObjectIndex} = this.state;\n\n    let {objects} = this.props,\n      currentObject = objects[selectedObjectIndex],\n      objectComponent = this.getObjectComponent(currentObject.type);\n\n    if (objectComponent.meta.editor) {\n      this.setState({\n        mode: modes.EDIT_OBJECT,\n        showHandler: false\n      });\n    }\n  }\n\n  getObjectComponent(type) {\n    let {objectTypes} = this.props;\n    return objectTypes[type];\n  }\n\n  getCanvas() {\n    let {width, height} = this.props;\n    let {\n      canvasWidth=width,\n      canvasHeight=height\n    } = this.props;\n    return {\n      width, height, canvasWidth, canvasHeight,\n      canvasOffsetX: (canvasWidth - width) / 2,\n      canvasOffsetY: (canvasHeight - height) / 2\n    };\n  }\n\n  renderSVG() {\n    let canvas = this.getCanvas();\n    let {width, height, canvasOffsetX, canvasOffsetY} = canvas;\n    let {background, objects, svgStyle, objectTypes} = this.props;\n    console.log('his.svgElement',this.svgElement)\n    return (\n      <SVGRenderer\n         background={background}\n         width={width}\n         canvas={canvas}\n         height={height}\n         objects={objects}\n         onMouseOver={this.showHandler.bind(this)}\n         objectTypes={objectTypes}\n         objectRefs={this.objectRefs}\n         onRender={(ref) => this.svgElement = ref}\n         onMouseDown={this.newObject.bind(this)} />\n    );\n  }\n\n  selectTool(tool) {\n    this.setState({\n      selectedTool: tool,\n      mode: modes.DRAW,\n      currentObjectIndex: null,\n      showHandler: false,\n      handler: null\n    });\n  }\n\n  handleObjectChange(key, value) {\n    let {selectedObjectIndex} = this.state;\n    // console.log(this.state, key, value)\n    this.updateObject(selectedObjectIndex, {\n      [key]: value\n    });\n  }\n\n  handleArrange(arrange) {\n    let {selectedObjectIndex} = this.state;\n    let {objects} = this.props;\n    let object = objects[selectedObjectIndex];\n\n    let arrangers = {\n      'front': (rest, object) => ([[...rest, object], rest.length]),\n      'back': (rest, object) => ([[object, ...rest], 0])\n    };\n\n    let rest = objects.filter(\n      (object, index) =>\n        selectedObjectIndex !== index\n    );\n\n    this.setState({\n      selectedObjectIndex: null\n    }, () => {\n\n      let arranger = arrangers[arrange];\n      let [arranged, newIndex] = arranger(rest, object);\n      this.props.onUpdate(arranged);\n      this.setState({\n        selectedObjectIndex: newIndex\n      });\n    });\n  }\n\n  removeCurrent() {\n    let {selectedObjectIndex} = this.state;\n    let {objects} = this.props;\n\n    let rest = objects.filter(\n      (object, index) =>\n        selectedObjectIndex !== index\n    );\n\n    this.setState({\n      currentObjectIndex: null,\n      selectedObjectIndex: null,\n      showHandler: false,\n      handler: null\n    }, () => {\n      this.objectRefs = {};\n      this.props.onUpdate(rest);\n    });\n  }\n\n  moveSelectedObject(attr, points, event, key) {\n    let {selectedObjectIndex} = this.state;\n    let {objects} = this.props;\n    let object = objects[selectedObjectIndex];\n\n    if (key.startsWith('shift')) {\n      points *= 10;\n    }\n\n    let changes = {\n      ...object,\n      [attr]: object[attr] + points\n    };\n\n    this.updateObject(selectedObjectIndex, changes);\n    this.updateHandler(selectedObjectIndex, changes);\n  }\n\n  getKeymapHandlers() {\n    let handlers = {\n      removeObject: this.removeCurrent.bind(this),\n      moveLeft: this.moveSelectedObject.bind(this, 'x', -1),\n      moveRight: this.moveSelectedObject.bind(this, 'x', 1),\n      moveUp: this.moveSelectedObject.bind(this, 'y', -1),\n      moveDown: this.moveSelectedObject.bind(this, 'y', 1),\n      closePath: () => this.setState({mode: modes.FREE})\n    };\n\n    return _.mapValues(handlers, (handler) => (event, key) => {\n      if (event.target.tagName !== 'INPUT') {\n        event.preventDefault();\n        handler(event, key);\n      }\n    });\n  }\n\n  render() {\n    let {showHandler, handler, mode,\n         selectedObjectIndex, selectedTool} = this.state;\n\n    let {\n      objects,\n      objectTypes,\n      insertMenu: InsertMenuComponent\n    } = this.props;\n\n    let currentObject = objects[selectedObjectIndex],\n        isEditMode = mode === modes.EDIT_OBJECT,\n        showPropertyPanel = selectedObjectIndex !== null;\n\n    let {width, height, canvasWidth, canvasHeight} = this.getCanvas();\n\n    let objectComponent, objectWithInitial, ObjectEditor;\n    if (currentObject) {\n      objectComponent = this.getObjectComponent(currentObject.type);\n      objectWithInitial = {\n        ...objectComponent.meta.initial,\n        ...currentObject\n      };\n      ObjectEditor = objectComponent.meta.editor;\n    }\n\n    return (\n      <HotKeys\n        keyMap={this.keyMap}\n        style={styles.keyboardManager}\n        handlers={this.getKeymapHandlers()}>\n        <div className={'container'}\n             style={{\n                ...styles.container,\n                ...this.props.style,\n                padding: 0\n             }}\n             onMouseMove={this.onDrag.bind(this)}\n             onMouseUp={this.stopDrag.bind(this)}>\n\n          {/* Left Panel: Displays insertion tools (shapes, images, etc.) */}\n          {InsertMenuComponent && (\n            <InsertMenuComponent tools={objectTypes}\n              currentTool={selectedTool}\n              onSelect={this.selectTool.bind(this)} />\n          )}\n\n          {/* Center Panel: Displays the preview */}\n          <div style={styles.canvasContainer}>\n            {isEditMode && ObjectEditor && (\n               <ObjectEditor object={currentObject}\n                   offset={this.getOffset()}\n                   onUpdate={(object) =>\n                      this.updateObject(selectedObjectIndex, object)}\n                   onClose={() => this.setState({mode: modes.FREE})}\n                   width={width}\n                   height={height} />)}\n\n            {showHandler && (\n              <Handler\n                boundingBox={handler}\n                canResize={_(currentObject).has('width') ||\n                           _(currentObject).has('height')}\n                canRotate={_(currentObject).has('rotate')}\n                onMouseLeave={this.hideHandler.bind(this)}\n                onDoubleClick={this.showEditor.bind(this)}\n                onDrag={this.startDrag.bind(this, modes.DRAG)}\n                onResize={this.startDrag.bind(this, modes.SCALE)}\n                onRotate={this.startDrag.bind(this, modes.ROTATE)} /> )}\n\n            {this.renderSVG()}\n          </div>\n\n          {/* Right Panel: Displays text, styling and sizing tools */}\n          {showPropertyPanel && (\n            <PanelList\n              id={this.props.id}\n              object={objectWithInitial}\n              onArrange={this.handleArrange.bind(this)}\n              onChange={this.handleObjectChange.bind(this)}\n              objectComponent={objectComponent} />\n          )}\n        </div>\n      </HotKeys>\n    );\n  }\n}\n\nexport const styles = {\n  container: {\n    position: 'relative',\n    display: 'flex',\n    flexDirection: 'row'\n  },\n  canvasContainer: {\n    position: 'relative'\n  },\n  keyboardManager: {\n    outline: 'none'\n  }\n}\n\nexport default Designer;\n","const objectInit =    [{\n        \"width\": 239,\n        \"rotate\": 0,\n        \"fill\": \"rgba(236, 181, 114, 1)\",\n        \"strokeWidth\": 0,\n        \"blendMode\": \"normal\",\n        \"type\": \"circle\",\n        \"x\": 116,\n        \"y\": 34.5625,\n        \"height\": null\n      }, {\n        \"fill\": \"rgba(220, 134, 0, 1)\",\n        \"closed\": true,\n        \"rotate\": 0,\n        \"moveX\": 47,\n        \"moveY\": 65.5625,\n        \"path\": [{\"x1\": 47, \"y1\": 65.5625, \"x2\": 57, \"y2\": 61.5625, \"x\": 57, \"y\": 61.5625}, {\n          \"x1\": 57,\n          \"y1\": 61.5625,\n          \"x2\": 182,\n          \"y2\": 356.5625,\n          \"x\": 182,\n          \"y\": 356.5625\n        }, {\"x1\": 182, \"y1\": 356.5625, \"x2\": 171, \"y2\": 362.5625, \"x\": 171, \"y\": 362.5625}, {\n          \"x1\": 171,\n          \"y1\": 362.5625,\n          \"x2\": 47,\n          \"y2\": 65.5625,\n          \"x\": 47,\n          \"y\": 65.5625\n        }],\n        \"stroke\": \"gray\",\n        \"strokeWidth\": \"0\",\n        \"type\": \"polygon\",\n        \"x\": 47,\n        \"y\": 65.5625\n      }, {\n        \"fill\": \"rgba(160, 41, 1, 1)\",\n        \"closed\": true,\n        \"rotate\": 0,\n        \"moveX\": 22,\n        \"moveY\": 259.5625,\n        \"path\": [{\"x1\": 22, \"y1\": 259.5625, \"x2\": 53, \"y2\": 244.5625, \"x\": 53, \"y\": 244.5625}, {\n          \"x1\": 53,\n          \"y1\": 244.5625,\n          \"x2\": 71,\n          \"y2\": 278.5625,\n          \"x\": 71,\n          \"y\": 278.5625\n        }, {\"x1\": 71, \"y1\": 278.5625, \"x2\": 43, \"y2\": 297.5625, \"x\": 43, \"y\": 297.5625}, {\n          \"x1\": 43,\n          \"y1\": 297.5625,\n          \"x2\": 22,\n          \"y2\": 259.5625,\n          \"x\": 22,\n          \"y\": 259.5625\n        }],\n        \"stroke\": \"gray\",\n        \"strokeWidth\": \"0\",\n        \"type\": \"polygon\",\n        \"x\": 22,\n        \"y\": 259.5625\n      }, {\n        \"fill\": \"rgba(135, 103, 82, 1)\",\n        \"closed\": true,\n        \"rotate\": 0,\n        \"moveX\": 47,\n        \"moveY\": 212.5625,\n        \"path\": [{\"x1\": 47, \"y1\": 212.5625, \"x2\": 69, \"y2\": 200.5625, \"x\": 69, \"y\": 200.5625}, {\n          \"x1\": 69,\n          \"y1\": 200.5625,\n          \"x2\": 99,\n          \"y2\": 274.5625,\n          \"x\": 99,\n          \"y\": 274.5625\n        }, {\"x1\": 99, \"y1\": 274.5625, \"x2\": 76, \"y2\": 283.5625, \"x\": 76, \"y\": 283.5625}, {\n          \"x1\": 76,\n          \"y1\": 283.5625,\n          \"x2\": 47,\n          \"y2\": 212.5625,\n          \"x\": 47,\n          \"y\": 212.5625\n        }],\n        \"stroke\": \"gray\",\n        \"strokeWidth\": \"0\",\n        \"type\": \"polygon\",\n        \"x\": 48,\n        \"y\": 212.5625\n      }, {\n        \"fill\": \"rgba(220, 134, 0, 1)\",\n        \"closed\": true,\n        \"rotate\": 0,\n        \"moveX\": 71,\n        \"moveY\": 183.5625,\n        \"path\": [{\"x1\": 71, \"y1\": 183.5625, \"x2\": 80, \"y2\": 178.5625, \"x\": 80, \"y\": 178.5625}, {\n          \"x1\": 80,\n          \"y1\": 178.5625,\n          \"x2\": 114,\n          \"y2\": 275.5625,\n          \"x\": 114,\n          \"y\": 275.5625\n        }, {\"x1\": 114, \"y1\": 275.5625, \"x2\": 106, \"y2\": 278.5625, \"x\": 106, \"y\": 278.5625}, {\n          \"x1\": 106,\n          \"y1\": 278.5625,\n          \"x2\": 71,\n          \"y2\": 183.5625,\n          \"x\": 71,\n          \"y\": 183.5625\n        }],\n        \"stroke\": \"gray\",\n        \"strokeWidth\": \"0\",\n        \"type\": \"polygon\",\n        \"x\": 71,\n        \"y\": 183.5625\n      }, {\n        \"fill\": \"rgba(111, 134, 124, 1)\",\n        \"closed\": true,\n        \"rotate\": 0,\n        \"moveX\": 77,\n        \"moveY\": 314.5625,\n        \"path\": [{\"x1\": 77, \"y1\": 314.5625, \"x2\": 181, \"y2\": 256.5625, \"x\": 181, \"y\": 256.5625}, {\n          \"x1\": 181,\n          \"y1\": 256.5625,\n          \"x2\": 208,\n          \"y2\": 307.5625,\n          \"x\": 208,\n          \"y\": 307.5625\n        }, {\"x1\": 208, \"y1\": 307.5625, \"x2\": 106, \"y2\": 365.5625, \"x\": 106, \"y\": 365.5625}, {\n          \"x1\": 106,\n          \"y1\": 365.5625,\n          \"x2\": 77,\n          \"y2\": 314.5625,\n          \"x\": 77,\n          \"y\": 314.5625\n        }],\n        \"stroke\": \"gray\",\n        \"strokeWidth\": \"0\",\n        \"type\": \"polygon\",\n        \"x\": 77,\n        \"y\": 314.5625\n      }, {\n        \"fill\": \"rgba(111, 134, 124, 1)\",\n        \"closed\": true,\n        \"rotate\": 0,\n        \"moveX\": 178,\n        \"moveY\": 385.5625,\n        \"path\": [{\"x1\": 178, \"y1\": 385.5625, \"x2\": 197, \"y2\": 377.5625, \"x\": 197, \"y\": 377.5625}, {\n          \"x1\": 197,\n          \"y1\": 377.5625,\n          \"x2\": 202,\n          \"y2\": 387.5625,\n          \"x\": 202,\n          \"y\": 387.5625\n        }, {\"x1\": 202, \"y1\": 387.5625, \"x2\": 183, \"y2\": 397.5625, \"x\": 183, \"y\": 397.5625}, {\n          \"x1\": 183,\n          \"y1\": 397.5625,\n          \"x2\": 178,\n          \"y2\": 385.5625,\n          \"x\": 178,\n          \"y\": 385.5625\n        }],\n        \"stroke\": \"gray\",\n        \"strokeWidth\": \"0\",\n        \"type\": \"polygon\",\n        \"x\": 176,\n        \"y\": 381.5625\n      }, {\n        \"fill\": \"rgba(163, 172, 127, 1)\",\n        \"closed\": true,\n        \"rotate\": 0,\n        \"moveX\": 96,\n        \"moveY\": 6.5625,\n        \"path\": [{\"x1\": 96, \"y1\": 6.5625, \"x2\": 96, \"y2\": 70.5625, \"x\": 96, \"y\": 70.5625}, {\n          \"x1\": 96,\n          \"y1\": 70.5625,\n          \"x2\": 104,\n          \"y2\": 70.5625,\n          \"x\": 104,\n          \"y\": 70.5625\n        }, {\"x1\": 104, \"y1\": 70.5625, \"x2\": 106, \"y2\": 8.5625, \"x\": 106, \"y\": 8.5625}, {\n          \"x1\": 106,\n          \"y1\": 8.5625,\n          \"x2\": 96,\n          \"y2\": 6.5625,\n          \"x\": 96,\n          \"y\": 6.5625\n        }],\n        \"stroke\": \"gray\",\n        \"strokeWidth\": \"0\",\n        \"type\": \"polygon\",\n        \"x\": 96,\n        \"y\": 6.5625\n      }, {\n        \"fill\": \"rgba(163, 172, 127, 1)\",\n        \"closed\": true,\n        \"rotate\": 0,\n        \"moveX\": 70,\n        \"moveY\": 39.5625,\n        \"path\": [{\"x1\": 70, \"y1\": 39.5625, \"x2\": 124, \"y2\": 32.5625, \"x\": 124, \"y\": 32.5625}, {\n          \"x1\": 124,\n          \"y1\": 32.5625,\n          \"x2\": 124,\n          \"y2\": 43.5625,\n          \"x\": 124,\n          \"y\": 43.5625\n        }, {\"x1\": 124, \"y1\": 43.5625, \"x2\": 72, \"y2\": 49.5625, \"x\": 72, \"y\": 49.5625}, {\n          \"x1\": 72,\n          \"y1\": 49.5625,\n          \"x2\": 70,\n          \"y2\": 39.5625,\n          \"x\": 70,\n          \"y\": 39.5625\n        }],\n        \"stroke\": \"gray\",\n        \"strokeWidth\": \"0\",\n        \"type\": \"polygon\",\n        \"x\": 70,\n        \"y\": 39.5625\n      }, {\n        \"fill\": \"rgba(69, 69, 41, 1)\",\n        \"closed\": true,\n        \"rotate\": 0,\n        \"moveX\": 87,\n        \"moveY\": 53.5625,\n        \"path\": [{\"x1\": 87, \"y1\": 53.5625, \"x2\": 116, \"y2\": 49.5625, \"x\": 116, \"y\": 49.5625}, {\n          \"x1\": 116,\n          \"y1\": 49.5625,\n          \"x2\": 118,\n          \"y2\": 59.5625,\n          \"x\": 118,\n          \"y\": 59.5625\n        }, {\"x1\": 118, \"y1\": 59.5625, \"x2\": 89, \"y2\": 63.5625, \"x\": 89, \"y\": 63.5625}, {\n          \"x1\": 89,\n          \"y1\": 63.5625,\n          \"x2\": 87,\n          \"y2\": 53.5625,\n          \"x\": 87,\n          \"y\": 53.5625\n        }],\n        \"stroke\": \"gray\",\n        \"strokeWidth\": \"0\",\n        \"type\": \"polygon\",\n        \"x\": 86,\n        \"y\": 51.5625\n      }, {\n        \"fill\": \"rgba(206, 67, 0, 1)\",\n        \"closed\": true,\n        \"rotate\": 0,\n        \"moveX\": 123,\n        \"moveY\": 168.5625,\n        \"path\": [{\"x1\": 123, \"y1\": 168.5625, \"x2\": 349, \"y2\": 36.5625, \"x\": 349, \"y\": 36.5625}, {\n          \"x1\": 349,\n          \"y1\": 36.5625,\n          \"x2\": 349,\n          \"y2\": 50.5625,\n          \"x\": 349,\n          \"y\": 50.5625\n        }, {\"x1\": 349, \"y1\": 50.5625, \"x2\": 136, \"y2\": 193.5625, \"x\": 136, \"y\": 193.5625}, {\n          \"x1\": 136,\n          \"y1\": 193.5625,\n          \"x2\": 123,\n          \"y2\": 168.5625,\n          \"x\": 123,\n          \"y\": 168.5625\n        }],\n        \"stroke\": \"gray\",\n        \"strokeWidth\": \"0\",\n        \"type\": \"polygon\",\n        \"x\": 123,\n        \"y\": 168.5625\n      }, {\n        \"fill\": \"rgba(0, 0, 0, 1)\",\n        \"closed\": true,\n        \"rotate\": 0,\n        \"moveX\": 135,\n        \"moveY\": 120.5625,\n        \"path\": [{\"x1\": 135, \"y1\": 120.5625, \"x2\": 154, \"y2\": 112.5625, \"x\": 154, \"y\": 112.5625}, {\n          \"x1\": 154,\n          \"y1\": 112.5625,\n          \"x2\": 203,\n          \"y2\": 216.5625,\n          \"x\": 203,\n          \"y\": 216.5625\n        }, {\"x1\": 203, \"y1\": 216.5625, \"x2\": 184, \"y2\": 226.5625, \"x\": 184, \"y\": 226.5625}, {\n          \"x1\": 184,\n          \"y1\": 226.5625,\n          \"x2\": 135,\n          \"y2\": 120.5625,\n          \"x\": 135,\n          \"y\": 120.5625\n        }],\n        \"stroke\": \"gray\",\n        \"strokeWidth\": \"0\",\n        \"type\": \"polygon\",\n        \"x\": 135,\n        \"y\": 120.5625\n      }, {\n        \"fill\": \"rgba(133, 34, 8, 1)\",\n        \"closed\": true,\n        \"rotate\": 0,\n        \"moveX\": 337,\n        \"moveY\": 78.5625,\n        \"path\": [{\"x1\": 337, \"y1\": 78.5625, \"x2\": 346, \"y2\": 92.5625, \"x\": 346, \"y\": 92.5625}, {\n          \"x1\": 346,\n          \"y1\": 92.5625,\n          \"x2\": 252,\n          \"y2\": 183.5625,\n          \"x\": 252,\n          \"y\": 183.5625\n        }, {\"x1\": 252, \"y1\": 183.5625, \"x2\": 236, \"y2\": 161.5625, \"x\": 236, \"y\": 161.5625}, {\n          \"x1\": 236,\n          \"y1\": 161.5625,\n          \"x2\": 337,\n          \"y2\": 78.5625,\n          \"x\": 337,\n          \"y\": 78.5625\n        }],\n        \"stroke\": \"gray\",\n        \"strokeWidth\": \"0\",\n        \"type\": \"polygon\",\n        \"x\": 337,\n        \"y\": 78.5625\n      }, {\n        \"fill\": \"rgba(0, 0, 0, 1)\",\n        \"closed\": true,\n        \"rotate\": 0,\n        \"moveX\": 138,\n        \"moveY\": 51.5625,\n        \"path\": [{\"x1\": 138, \"y1\": 51.5625, \"x2\": 152, \"y2\": 45.5625, \"x\": 152, \"y\": 45.5625}, {\n          \"x1\": 152,\n          \"y1\": 45.5625,\n          \"x2\": 247,\n          \"y2\": 246.5625,\n          \"x\": 247,\n          \"y\": 246.5625\n        }, {\"x1\": 247, \"y1\": 246.5625, \"x2\": 226, \"y2\": 257.5625, \"x\": 226, \"y\": 257.5625}, {\n          \"x1\": 226,\n          \"y1\": 257.5625,\n          \"x2\": 138,\n          \"y2\": 51.5625,\n          \"x\": 138,\n          \"y\": 51.5625\n        }],\n        \"stroke\": \"gray\",\n        \"strokeWidth\": \"0\",\n        \"type\": \"polygon\",\n        \"x\": 138,\n        \"y\": 51.5625\n      }, {\n        \"fill\": \"rgba(0, 0, 0, 1)\",\n        \"closed\": true,\n        \"rotate\": 0,\n        \"moveX\": 8,\n        \"moveY\": 292.5625,\n        \"path\": [{\"x1\": 8, \"y1\": 292.5625, \"x2\": 15, \"y2\": 303.5625, \"x\": 15, \"y\": 303.5625}, {\n          \"x1\": 15,\n          \"y1\": 303.5625,\n          \"x2\": 255,\n          \"y2\": 135.5625,\n          \"x\": 255,\n          \"y\": 135.5625\n        }, {\"x1\": 255, \"y1\": 135.5625, \"x2\": 252, \"y2\": 130.5625, \"x\": 252, \"y\": 130.5625}, {\n          \"x1\": 252,\n          \"y1\": 130.5625,\n          \"x2\": 8,\n          \"y2\": 292.5625,\n          \"x\": 8,\n          \"y\": 292.5625\n        }],\n        \"stroke\": \"gray\",\n        \"strokeWidth\": \"0\",\n        \"type\": \"polygon\",\n        \"x\": 8,\n        \"y\": 292.5625\n      }, {\n        \"fill\": \"rgba(0, 0, 0, 1)\",\n        \"closed\": true,\n        \"rotate\": 0,\n        \"moveX\": 314,\n        \"moveY\": 6.5625,\n        \"path\": [{\"x1\": 266, \"y1\": 49.5625, \"x2\": 224, \"y2\": 49.5625, \"x\": 204, \"y\": 69.5625}, {\n          \"x1\": 169,\n          \"y1\": 99.5625,\n          \"x2\": 189,\n          \"y2\": 152.5625,\n          \"x\": 243,\n          \"y\": 125.5625\n        }, {\"x1\": 275, \"y1\": 109.5625, \"x2\": 288, \"y2\": 72.5625, \"x\": 307, \"y\": 26.5625}, {\n          \"x1\": 321,\n          \"y1\": -5.4375,\n          \"x2\": 314,\n          \"y2\": 6.5625,\n          \"x\": 314,\n          \"y\": 6.5625\n        }],\n        \"stroke\": \"gray\",\n        \"strokeWidth\": \"0\",\n        \"type\": \"polygon\",\n        \"x\": 316,\n        \"y\": -7.4375\n      }]\n\n      export default objectInit","// eslint-disable-next-line no-unused-vars\nimport React, { useState, useEffect } from 'react';\nimport Designer from '../Designer/Designer'\nimport objectInit from '../Designer/designerObject'\n \nconst CustomDesigner = () => {\n\n    const [objects, setobjects] = useState(objectInit)\n\n    const handleUpdate=(objects)=>{\n        setobjects(objects)\n      }\n\n    return (\n        <>\n        <h2 >Designer</h2>\n        <Designer\n        width={1080} height={520}\n        objects={objects}\n        onUpdate={handleUpdate}\n        />\n        </>\n    );\n}\n \nexport default React.memo(CustomDesigner);"],"sourceRoot":""}